var msg="IPython -- An enhanced Interactive Python.\n";msg+="?         -> Introduction and overview of IPython's features.\n";msg+="%quickref -> Quick reference.\n";msg+="help      -> Python's own help system.\n";msg+="object?   -> Details about 'object', use 'object??' for extra details.\n";var jqconsole=$("#console").jqconsole(msg,">>> ");function startPrompt(){jqconsole.Prompt(true,function(input){sendCommand(input);startPrompt()})}jqconsole.SetIndentWidth(4);jqconsole.RegisterShortcut("l",function(){jqconsole.Clear()});jqconsole.RegisterShortcut("a",function(){jqconsole.MoveToStart()});jqconsole.RegisterShortcut("e",function(){jqconsole.MoveToEnd()});jqconsole.RegisterShortcut("c",function(){if(!$("#btn-interrupt").hasClass("hide")){$("#btn-interrupt").click()}else{jqconsole.ClearPromptText()}});jqconsole.RegisterShortcut("u",function(){var text=jqconsole.GetPromptText().slice(jqconsole.GetColumn()-4);jqconsole.SetPromptText(text)});jqconsole.RegisterShortcut("k",function(){var text=jqconsole.GetPromptText().slice(0,jqconsole.GetColumn()-4);jqconsole.SetPromptText(text)});jqconsole.RegisterShortcut("w",function(){var idx=jqconsole.GetColumn()-4;var text=jqconsole.GetPromptText().trim();var lidx=text.slice(0,idx).lastIndexOf(" ");if(lidx==-1){lidx=0}text=text.slice(0,lidx)+" "+text.slice(idx+1);text=text.trim();jqconsole.SetPromptText(text)});jqconsole.RegisterShortcut("1",function(){focusOnEditor()});jqconsole.RegisterShortcut("3",function(){focusOnTopRight()});jqconsole.RegisterShortcut("4",function(){focusOnBottomRight()});jqconsole._IndentOld=jqconsole._Indent;jqconsole._Indent=function(){if(jqconsole.GetPromptText().trim()==""){jqconsole._IndentOld()}else if(jqconsole.GetPromptText().slice(-1)=="\n"){jqconsole._IndentOld()}else{var originalPrompt=jqconsole.GetPromptText();var code=jqconsole.GetPromptText();code=code.slice(0,jqconsole.GetColumn()-4);jqconsole.ClearPromptText(true);executeCommand(code,true,function(result){if(!result){return}var predictions;try{predictions=JSON.parse(result.output)}catch(e){console.log("[ERROR]: "+e+" --> "+result.output);return}var completedText="";if(predictions.length==1){var prediction=predictions[0].text;originalPrompt=originalPrompt.replace("~",USER_HOME);completedText=originalPrompt.replace(code,prediction);for(var i=prediction.length;i>0;i--){var p=prediction.slice(0,i);if(originalPrompt.slice(-p.length)==p){completedText=originalPrompt+prediction.slice(i);break}}jqconsole.SetPromptText(completedText);return}var widthChars=$("#console").width()/6.4;var longestString=20;var nCols=Math.round(widthChars/(longestString+5),0);var table=new AsciiTable;var row=[];for(var i=0;i<predictions.length;i++){var text;if(!predictions[i]){return}text=predictions[i].text;row.push(text);if(row.length==nCols){table.addRow(row);row=[]}}if(row.length>0){table.addRow(row)}table.removeBorder().setJustify();jqconsole.Write(table.render()+"\n\n","jqconsole-output");startPrompt();jqconsole.SetPromptText(originalPrompt)})}};function fileIndexStart(){$("#file-search-list .list").children().remove();$("#file-search-list .list").append("<li id='index-count'><i class='fa fa-hourglass-end'></i>&nbsp;Indexing files</li>")}function indexFile(data){var fileSearchItem=file_search_item_template(data);$("#file-search-list .list").append(fileSearchItem)}function fileIndexUpdate(data){var html="<i class='fa fa-hourglass-end'></i>&nbsp;Indexing files "+data.nComplete;$("#file-search-list .list #index-count").html(html)}function fileIndexInterrupt(){$("#file-search-list .list").children().remove();var msg="Sorry this directory was too big to index.";$("#file-search-list .list").append("<li id='index-count'><i class='fa fa-ban'></i>&nbsp;"+msg+"</li>")}function fileIndexComplete(){$("#file-search-list #index-count").remove();$("#file-search-list .list .hide").removeClass("hide");indexFiles()}var fileList;function indexFiles(){$("#file-search-list .list li").removeClass("selected");$("#file-search-list .list li").first().addClass("selected");var options={valueNames:["filename"]};fileList=new List("file-search-list",options);$("#file-search-form").unbind();$("#file-search-form").submit(function(e){e.preventDefault();var filename=$("#file-search-list .selected").attr("data-filename");openFile(filename);$("#file-search-input").val("");$("#file-search-modal").modal("hide");$("#file-search-list .list li").removeClass("selected");return false})}function refreshVariables(){executeCommand("__get_variables(globals())",false,function(result){if(!result.output){$("#vars").children().remove();console.error("[ERROR]: Result from code execution was null.");return}var variables=JSON.parse(result.output);$("#vars").children().remove();var variableTypes=["list","dict","ndarray","DataFrame","Series","function","other"];variableTypes.forEach(function(type){var isOnDesktop=isDesktop();variables[type].forEach(function(v){$("#vars").append(active_variables_row_template({name:v.name,type:type,repr:v.repr,isDesktop:isOnDesktop}))}.bind(this))});$("#vars tr").first().children().each(function(i,el){$($("#vars-header th")[i]).css("width",$(el).css("width"))})})}function refreshPackages(){executeCommand("__get_packages()",false,function(result){var packages=JSON.parse(result.output);$("#packages-rows").children().remove();packages.forEach(function(p){$("#packages-rows").append(package_row_template({name:p.name,version:p.version}))})})}function findFile(){$("#file-search-modal").unbind();$("#file-search-modal").modal("show");$("#file-search-modal input").focus();$("#file-search-modal").keydown(function(e){var selectedFile=$("#file-search-list .list .selected").data("filename");if(!fileList){return}var nextFile;if(e.which==40){for(var i=0;i<fileList.matchingItems.length-1;i++){if($(fileList.matchingItems[i].elm).data("filename")==selectedFile){nextFile=$(fileList.matchingItems[i+1].elm).data("filename");break}}if(!nextFile){nextFile=$(fileList.matchingItems[0].elm).data("filename")}}else if(e.which==38){for(var i=fileList.matchingItems.length-1;i>0;i--){if($(fileList.matchingItems[i].elm).data("filename")==selectedFile){nextFile=$(fileList.matchingItems[i-1].elm).data("filename");break}}if(!nextFile){nextFile=$(fileList.matchingItems[fileList.matchingItems.length-1].elm).data("filename")}}$("#file-search-list .list li").each(function(i,el){if($(el).data("filename")==nextFile){$("#file-search-list .list .selected").removeClass("selected");$(el).addClass("selected");var $parentDiv=$("#file-search-list ul");var $innerListItem=$(el);$parentDiv.scrollTop($parentDiv.scrollTop()+$innerListItem.position().top-$parentDiv.height()/1.5+$innerListItem.height()/3)}})})}function setDefaultPreferences(editor){getRC(function(rc){if(rc.keyBindings=="default"){rc.keyBindings=null}editor.setKeyboardHandler(rc.keyBindings||null);editor.setTheme(rc.editorTheme||"ace/theme/chrome");editor.setFontSize(rc.fontSize||12);if(rc.fontType){}if(rc.autoSave){editor.on("input",function(){saveEditor()})}})}function saveActiveEditor(saveas){saveas=saveas||false;var editor=getActiveEditor();saveEditor(editor,saveas)}function closeActiveFile(){if($("#editorsTab .active").length){var n=$("#editorsTab .active").attr("id").replace("editor-tab-","");closeActiveTab(n)}}function shiftEditorLeft(){var prevTab=$("#editorsTab .active").prev();if(prevTab&&$("a",prevTab).attr("href")!="#"){$("a",prevTab).click()}else{prevTab=$("#editorsTab li").last().prev();$("a",prevTab).click()}var id=$(prevTab).attr("id").replace("tab-","");ace.edit(id).focus()}function shiftEditorRight(){var nextTab=$("#editorsTab .active").next();if(nextTab&&$("a",nextTab).attr("href")!="#"){$("a",nextTab).click()}else{nextTab=$("#editorsTab li").first().next();$("a",nextTab).click()}var id=$(nextTab).attr("id").replace("tab-","");ace.edit(id).focus()}function getActiveEditor(){var id=$("#editors .active .editor").attr("id");return ace.edit(id)}function saveFile(filepath,content,fn){var payload={filepath:filepath,content:content};if(isDesktop()){var data=ipc.send("file-post",payload);fn(data)}else{$.post("file",payload,function(resp){fn(resp)})}}function closeActiveTab(n){if(!$("#editor-tab-"+n+" .unsaved").hasClass("hide")){bootbox.dialog({title:"Do you want to save the changes you've made to this file?",message:"Your changes will be discarded otherwise.",buttons:{cancel:{label:"Cancel",className:"btn-default",callback:function(){return}},dontSave:{label:"Don't Save",className:"btn-default",callback:function(){$("#editorsTab .editor-tab-a").first().click();$("#editor-tab-"+n).remove();$("#editor-tab-pane-"+n).remove()}},save:{label:"Save",className:"btn-primary",callback:function(){saveEditor(ace.edit("editor-"+n),null,function(){$("#editorsTab .editor-tab-a").first().click();$("#editor-tab-"+n).remove();$("#editor-tab-pane-"+n).remove()})}}}})}else{var prevTab=$("#editor-tab-"+n).prev();$("#editor-tab-"+n).remove();$("#editor-tab-pane-"+n).remove();if(prevTab&&$("a",prevTab).attr("href")!="#"){$("a",prevTab).click()}}}function newEditor(basename,fullpath,content){var editor=addEditor();$("#editorsTab li:nth-last-child(2) .name").text(basename);$("#editorsTab li:nth-last-child(2) a").attr("data-filename",fullpath);editor.getSession().setValue(content);return editor}function openFile(pathname,isDir){if($("#editorsTab a[data-filename='"+pathname+"']").length){$("#editorsTab a[data-filename='"+pathname+"']").click();return}else if(isDir){var directory=pathname;setFiles(pathname)}else{function callback(basename,pathname,content){var editor=newEditor(basename,pathname,content);$("#editorsTab li:nth-last-child(2) a").click();var id=$("#editors .editor").last().attr("id");setTimeout(function(){$("#"+id.replace("editor","editor-tab")+" .unsaved").addClass("hide")},50)}if(isDesktop()){var data=ipc.send("file-get",pathname);callback(data.basename,pathname,data.content)}else{$.get("file",{filepath:pathname},function(resp){callback(resp.basename,pathname,resp.content)})}}}function saveEditor(editor,saveas,fn){saveas=saveas||false;var id=$($("#editorsTab .active a").attr("href")+" .editor").attr("id");if(!editor){editor=ace.edit(id)}var filename=$("#editorsTab .active a").text();var content=editor.getSession().getValue();if(!$("#editorsTab .active a").attr("data-filename")||saveas==true){if(isDesktop()){remote.require("dialog").showSaveDialog({title:"Save File",default_path:ipc.send("wd-get")},function(destfile){if(!destfile){return}if(!/\.[A-Za-z0-9]{1,5}$/.test(destfile)){destfile=destfile+".py"}var basename=pathBasename(destfile);$("#editorsTab .active a .name").text(basename);$("#editorsTab .active a").attr("data-filename",destfile);saveFile(destfile,content,function(resp){$("#"+id.replace("editor","editor-tab")+" .unsaved").addClass("hide");setFiles();if(fn){fn()}})})}else{bootbox.prompt("Please specify a name for your file:",function(destfile){if(destfile==null){return}var basename=pathBasename(destfile);$("#editorsTab .active a .name").text(basename);$("#editorsTab .active a").attr("data-filename",destfile);saveFile(destfile,content,function(resp){$("#"+id.replace("editor","editor-tab")+" .unsaved").addClass("hide");setFiles();if(fn){fn()}})})}}else{saveFile($("#editorsTab .active a").attr("data-filename"),content,function(resp){$("#"+id.replace("editor","editor-tab")+" .unsaved").addClass("hide");setFiles();if(fn){fn()}})}}function openDialog(){require("remote").dialog.showOpenDialog({title:"Select a file to open",defaultPath:require("electron").ipcRenderer.send("wd-get"),properties:["openFile"]},function(filenames){if(filenames&&filenames.length>0){openFile(filenames[0])}})}function addEditor(){var id;if($("#editors .editor").length){id=parseInt($("#editors .editor").last().attr("id").split("-")[1])+1}else{id=1}var editor_tab_html=editor_tab_template({n:id,name:"Untitled-"+id+".py",isFirst:id==0});var editor_html=editor_template({n:id});$(editor_tab_html).insertBefore($("#add-tab").parent());$("#editors").append(editor_html);$("#editor-tab-"+id+" .editor-tab-a").click();var editor=ace.edit("editor-"+id);editor=configureEditor(editor);editor.focus();return editor}function getCurrentLine(editor){return editor.session.getLine(editor.getCursorPosition().row)}function configureEditor(editor){track("application","editor");var langTools=ace.require("ace/ext/language_tools");langTools.setCompleters([]);var Autocomplete=ace.require("ace/autocomplete").Autocomplete;editor.completer=new Autocomplete(editor);editor.setTheme("ace/theme/chrome");editor.getSession().setMode("ace/mode/python");editor.setOptions({useSoftTabs:true,showPrintMargin:false,enableBasicAutocompletion:true,enableSnippets:false,enableLiveAutocompletion:false});editor.$blockScrolling=Infinity;var pythonCompleter={getCompletions:function(editor,session,pos,prefix,fn){session.$mode.$keywordList=[];var code=getCurrentLine(editor).slice(0,editor.getCursorPosition().column);executeCommand(code,true,function(result){console.log(result);result.output=JSON.parse(result.output);var predictions=result.output.map(function(p){var value=p.text;if(value.indexOf("/")==-1&&value.indexOf(".")>-1){value=value.split(".").slice(value.split(".").length-1).join(".")}return{caption:p.text,value:value,score:100,meta:null,docHTML:"<code>"+p.text+"</code>"+"<br/>"+"<br/>"+"<pre style='margin: 0; padding: 0;'>"+p.docstring+"</pre>"||"<p>"+p.text+"</p>"}});fn(null,predictions)})}};langTools.addCompleter(pythonCompleter);var allCommands=editor.commands.byName;editor.commands.bindKey("Cmd-d",null);allCommands.findnext.bindKey={win:"Ctrl-d",mac:"Cmd-d"};editor.commands.addCommand(allCommands.findnext);editor.commands.addCommand({name:"shift-editor-left",bindKey:{win:"ctrl-option-left",mac:"ctrl-option-left"},exec:function(editor){track("shortcut","Change Editor > Move One Left");shiftEditorLeft()}});editor.commands.addCommand({name:"shift-editor-right",bindKey:{win:"ctrl-option-right",mac:"ctrl-option-right"},exec:function(editor){track("shortcut","Change Editor > Move One Right");shiftEditorRight()}});editor.commands.addCommand({name:"showPreferences",bindKey:{win:"ctrl-,",mac:"Command-,"},exec:function(editor){track("shortcut","Preferences");showPreferences()}});editor.commands.addCommand({name:"pickWorkingDirectory",bindKey:{win:"ctrl-Shift-g",mac:"Command-Shift-g"},exec:function(editor){track("shortcut","Change Working Directory");setWorkingDirectory()}});editor.commands.addCommand({name:"findFile",bindKey:{win:"ctrl-option-t",mac:"Command-option-t"},exec:function(editor){track("shortcut","Find File");findFile()}});editor.commands.addCommand({name:"findFile2",bindKey:{win:"ctrl-k",mac:"Command-k"},exec:function(editor){findFile()}});editor.commands.addCommand({name:"indentSelection",bindKey:{win:"ctrl-]",mac:"Command-]"},exec:function(editor){if(editor.getSelectedText()){editor.blockIndent(editor.getSelectionRange())}else{editor.blockIndent(editor.getCursorPosition().row)}}});editor.commands.addCommand({name:"outSelection",bindKey:{win:"ctrl-[",mac:"Command-["},exec:function(editor){if(editor.getSelectedText()){editor.blockOutdent(editor.getSelectionRange())}else{editor.blockOutdent(editor.getCursorPosition().row)}}});editor.commands.addCommand({name:"sendCommand",bindKey:{win:"ctrl-Enter",mac:"Command-Enter"},exec:function(editor){track("command","python");var text=editor.getCopyText();var currentRow=editor.getSelectionRange().end.row;var nextRow=currentRow+1;if(text==""){text=editor.session.getLine(currentRow)}text=jqconsole.GetPromptText()+text;var isFinished=false;if(nextRow==editor.session.getLength()){isFinished=true}else if(editor.session.getLine(nextRow)==""){isFinished=true}else if(/return/.test(editor.session.getLine(currentRow))){isFinished=true}else if(!/^ /.test(editor.session.getLine(nextRow))){isFinished=true}else{}if(isFinished){jqconsole.SetPromptText(text);jqconsole.Write(jqconsole.GetPromptText(true)+"\n");jqconsole.ClearPromptText();jqconsole.SetHistory(jqconsole.GetHistory().concat([text]));sendCommand(text)}else{text=text+"\n";jqconsole.ClearPromptText();jqconsole.SetPromptText(text)}if(nextRow==editor.session.getLength()){editor.session.setValue(editor.session.getValue()+"\n")}editor.gotoLine(currentRow+2,10,true)}});editor.commands.addCommand({name:"saveFile",bindKey:{win:"ctrl-s",mac:"Command-s"},exec:function(editor){saveEditor(editor)}});editor.commands.addCommand({name:"cancelInput",bindKey:{win:"ctrl-shift-c",mac:"ctrl-c"},exec:function(editor){jqconsole.SetPromptText("")}});editor.commands.addCommand({name:"autocomplete",bindKey:{win:"Tab",mac:"Tab"},exec:function(editor){var pos=editor.getCursorPosition();var text=editor.session.getTextRange({start:{row:pos.row,column:pos.column-1},end:{row:pos.row,column:pos.column}});var line=getCurrentLine(editor);if(/from /.test(line)||/import /.test(line)){setTimeout(function(){editor.completer.showPopup(editor)},50)}else if(text!=" "&&text!=""){setTimeout(function(){editor.completer.showPopup(editor)},50)}else{editor.insert("    ")}}});editor.commands.addCommand({name:"focus-2",bindKey:{win:"ctrl-2",mac:"Command-2"},exec:function(editor){focusOnConsole()}});editor.commands.addCommand({name:"focus-3",bindKey:{win:"ctrl-3",mac:"Command-3"},exec:function(editor){focusOnTopRight()}});editor.commands.addCommand({name:"focus-4",bindKey:{win:"ctrl-4",mac:"Command-4"},exec:function(editor){focusOnBottomRight()}});editor.commands.addCommand({name:"runLastCommand",bindKey:{win:"ctrl-shift-1",mac:"Command-shift-1"},exec:function(editor){runLastCommand()}});editor.commands.addCommand({name:"run2ndToLastCommand",bindKey:{win:"ctrl-shift-2",mac:"Command-shift-2"},exec:function(editor){run2ndToLastCommand()}});editor.commands.addCommand({name:"newFile",bindKey:{win:"ctrl-option-shift-n",mac:"ctrl-option-shift-n"},exec:function(editor){$("#add-tab").click()}});if(!isDesktop()){editor.commands.addCommand({name:"openUserFile",bindKey:{win:"ctrl-o",mac:"command-o"},exec:function(editor){$("#file-upload-trigger").click()}});editor.commands.addCommand({name:"closeOpenFile",bindKey:{win:"ctrl-option-shift-w",mac:"command-option-shift-w"},exec:function(editor){var n=$("#editorsTab .active").attr("id").replace("editor-tab-","");closeActiveTab(n);getActiveEditor().focus()}});editor.commands.addCommand({name:"closeOpenFile2",bindKey:{win:"ctrl-b",mac:"command-b"},exec:function(editor){var n=$("#editorsTab .active").attr("id").replace("editor-tab-","");closeActiveTab(n);getActiveEditor().focus()}})}editor.on("input",function(){$("#"+editor.container.id.replace("editor","editor-tab")+" .unsaved").removeClass("hide")});setDefaultPreferences(editor);return editor}var scheme=window.location.protocol;var wsScheme;if(scheme=="https:"){wsScheme="wss://"}else{wsScheme="ws://"}var wsUrl=document.URL.replace(/https?:\/\//,wsScheme).replace("#","");var ws=new WebSocket(wsUrl);ws.sendJSON=function(data){ws.send(JSON.stringify(data))};ws.onopen=function(){ws.sendJSON({msg:"index-files"})};ws.onmessage=function(evt){var data=JSON.parse(evt.data);if(data.msg=="refresh-variables"){refreshVariables()}else if(data.msg=="refresh-packages"){refreshPackages()}else if(data.msg=="set-working-directory"){setFiles(data.wd)}else if(data.msg=="file-index-start"){fileIndexStart()}else if(data.msg=="index-file"){indexFile(data)}else if(data.msg=="file-index-update"){fileIndexUpdate(data)}else if(data.msg=="file-index-interrupt"){fileIndexInterrupt()}else if(data.msg=="file-index-complete"){fileIndexComplete()}else if(data.msg=="command"){handleCommandResults(data)}else if(data.msg=="startup-error"){showError(data.error)}else if(data.msg=="ready"){$("#loading-modal").modal("hide")}};function sendCommand(input,hideResult){if(input){var html=history_row_template({n:1+$("#history-trail").children().length,command:input});$("#history-trail").append(html)}if(input=="push it to the limit"){$("#time-traveler").click();return}if(/^\?/.test(input)){input="help("+input.slice(1)+")"}else if(/(.+)\?{2}$/.test(input)){input="help("+/(.+)\?{2}$/.exec(input)[1]+")"}else if(/(.+)\?$/.test(input)){input="help("+/(.+)\?$/.exec(input)[1]+")"}else if(input=="reset"||input=="%%reset"||input=="%reset"||input=="quit"||input=="quit()"||input=="exit"||input=="exit()"){if(isDesktop()){ipc.send("quit")}else{bootbox.alert("To quit Rodeo, just exit this tab.");return}}$cont=$("#history-trail").parent();$cont[0].scrollTop=$cont[0].scrollHeight;var data={command:input,autocomplete:false,stream:true};$("#btn-interrupt").removeClass("hide");if(isDesktop()){ipc.send("command",data)}else{data.msg="command";ws.sendJSON(data)}}function handleCommandResults(result){if(/^help[(]/.test(result.command)){if(result.output){$("#help-content").text(result.output);$('a[href="#help"]').tab("show");return}}if(result.status=="input"&&result.stream){jqconsole.SetPromptText(result.stream||"")}else if(result.status!="complete"&&result.stream){jqconsole.Write(result.stream||"")}if(result.error){track("command","error");$("#btn-interrupt").addClass("hide");jqconsole.Write(result.error+"\n","jqconsole-error")}if(result.status=="complete"){$("#btn-interrupt").addClass("hide");jqconsole.Write("\n");refreshVariables()}}if(isDesktop()){ipc.on("command",function(data){handleCommandResults(data)})}$("#run-button").click(function(e){e.preventDefault();var editor=getActiveEditor();var code=editor.getSelectedText();if(!code){code=editor.session.getValue()}jqconsole.Write(">>> "+code+"\n","jqconsole-old-input");sendCommand(code);return false});$("#run-markdown").click(function(e){track("command","markdown");var editor=getActiveEditor();var code=editor.getSelectedText();if(!code){code=editor.session.getValue()}if(isDesktop()){var html=ipc.send("md",{doc:code});var html=markdown_template({renderedMarkdown:html,desktop:true});renderMarkdown(html)}else{$("#markdown-form textarea").val(code);$("#markdown-form").submit()}});function executeCommand(command,autocomplete,fn){var data={command:command,autocomplete:autocomplete,stream:false};if(isDesktop()){var results=ipc.send("command",data);if(fn){fn(results)}}else{if(fn){$.get("command",data,fn)}else{$.get("command",data)}}}function setFiles(dir){function callback(home,dir,files){$("#file-list").children().remove();$("#working-directory").children().remove();$("#working-directory").append(wd_template({dir:dir.replace(home,"~")}));$("#file-list").append(file_template({isDir:true,filename:formatFilename(pathJoin([dir,".."])),basename:".."}));getRC(function(rc){files.forEach(function(f){var filename=formatFilename(pathJoin([dir,f.basename]));if(!f.isDir){return}if(rc.displayDotFiles!=true){if(/\/\./.test(dir)||/^\./.test(f.filename)){return}}$("#file-list").append(file_template({isDir:f.isDir,filename:filename,basename:f.basename}))}.bind(this));files.forEach(function(f){var filename=formatFilename(pathJoin([dir,f.basename]));if(f.isDir){return}if(rc.displayDotFiles!=true){if(/\/\./.test(dir)||/^\./.test(f)){return}}$("#file-list").append(file_template({isDir:f.isDir,filename:filename,basename:f.basename}))}.bind(this))})}if(isDesktop()){if(dir==null){dir=ipc.send("wd-get")}var resp=ipc.send("files",{dir:dir});ipc.send("index-files");callback(resp.home,resp.dir,resp.files)}else{getWorkingDirectory(function(wd){if(dir==null){dir=wd}$.get("files",{dir:dir},function(resp){callback(resp.home,resp.dir,resp.files)})})}}function focusOnEditor(){var id=$("#editors .active .editor").attr("id");var editor=ace.edit(id);editor.focus()}function focusOnConsole(){jqconsole.Focus()}function focusOnTopRight(){var next=$("#top-right .nav .active").next();if(!$(next).length){next=$("#top-right .nav li").first()}$("a",next).click()}function focusOnBottomRight(){var next=$("#bottom-right .nav .active").next();if(!$(next).length){next=$("#bottom-right .nav li").first()}$("a",next).click()}(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates["active-variable.hbs"]=template({1:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return"onclick=\"showVariable('"+alias4((helper=(helper=helpers.name||(depth0!=null?depth0.name:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper))+"', '"+alias4((helper=(helper=helpers.type||(depth0!=null?depth0.type:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"type",hash:{},data:data}):helper))+"');\""},3:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'href="variable?name='+alias4((helper=(helper=helpers.name||(depth0!=null?depth0.name:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper))+"&type="+alias4((helper=(helper=helpers.type||(depth0!=null?depth0.type:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"type",hash:{},data:data}):helper))+'"'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,options,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression,buffer="<tr>\n  <td>"+alias4((helper=(helper=helpers.name||(depth0!=null?depth0.name:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper))+"</td>\n  <td>"+alias4((helper=(helper=helpers.repr||(depth0!=null?depth0.repr:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"repr",hash:{},data:data}):helper))+'</td>\n  <td style="td-align: center;">\n    <a target=_blank ';stack1=(helper=(helper=helpers.isDesktop||(depth0!=null?depth0.isDesktop:depth0))!=null?helper:alias2,options={name:"isDesktop",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data},typeof helper===alias3?helper.call(alias1,options):helper);if(!helpers.isDesktop){stack1=helpers.blockHelperMissing.call(depth0,stack1,options)}if(stack1!=null){buffer+=stack1}return buffer+">\n      <span class='fa fa-list-alt' aria-hidden='true'></span>&nbsp;View\n    </a>\n  </td>\n</tr>\n"},useData:true});templates["bad-python.hbs"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="">\n  <div class="jumbotron">\n    <div class="">\n      <h1>Bad news! Rodeo can\'t start <i class="fa fa-frown-o"></i></h1>\n    </div>\n  </div>\n  <div id="ipython-error" class=" hide">\n    <h3>What\'s going on?</h3>\n    <p class="small">\n      Unfortunately Rodeo wasn\'t able to find the <code>python</code> command it needs in order\n      to run. Rodeo uses the same libraries the IPython Notebook does. This means, if you don\'t\n      have your notebook setup properly, Rodeo probably isn\'t going to work.\n    </p>\n    <h3>How do I fix it?</h3>\n    <p class="small">\n      The good news is that we\'ve identified the problem and it\'s fairly easy to fix. The root\n      of the problem is that you don\'t have Python setup correctly (or it\'s setup in a pretty non-standard\n      way that Rodeo doesn\'t recognize). You\'ve got a couple options.\n    </p>\n    <hr />\n    <h3>The "I just want it to work" option</h3>\n    <p class="small">\n      If you just want this to work as quickly as humanly possible, you can install a pre-packaged version of Python.\n      <br />\n      <br />\n      The easiest way to go about this is to install <a href="http://docs.continuum.io/anaconda/install" target="_blank">Anaconda</a>. It\'s free,\n      you can double-click to install, and it has everything you need to use Rodeo.\n      <br>\n      <br />\n      Once you\'re done, try re-running Rodeo.\n    </p>\n    <hr />\n    <h3>The "I know what I\'m doing" option</h3>\n    <p class="small">\n      Rodeo needs to be able to import either the <code>jupyter_client</code> or the <code>IPython</code> module. If you don\'t have\n      one of these installed, then that\'s probably your problem.\n      <br>\n      <br />\n      If you do have one of them installed, then the issue is that Rodeo is using the "wrong python". Rodeo defaults to using\n      whatever <code>python</code> is on your PATH (or on Windows, whatever is set in your Environment Variables).\n      <br />\n      <br />\n      Not sure if you have python installed? You should probably go back to the "I just want it to work" section.\n    </p>\n  </div>\n  <div id="matplotlib-error" class=" hide">\n    <h3>What\'s going on?</h3>\n    <p class="small">\n      Good news and bad news. The good news is that you\'ve configured Jupyter/IPython correctly. The bad news is Rodeo wasn\'t able to load <code>matplotlib</code>.\n    </p>\n    <hr />\n    <h3>Installing <code>matplotlib</code></h3>\n    <p class="small">\n      Luckily it\'s fairly easy to get out of this mess. The easiest way is to use <code>conda</code> (if you\'re using Anaconda) or\n      <code>pip</code> (if you\'re using "regular" python). Open up your terminal/command prompt and type in the following:\n    </p>\n    <pre># if you\'re a conda user...\n$ conda install matplotlib\n# or\n$ pip install matplotlib</pre>\n  </div>\n\n</div>'},useData:true});templates["editor-tab.hbs"]=template({1:function(container,depth0,helpers,partials,data){return"active"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,options,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression,buffer='<li id="editor-tab-'+alias4((helper=(helper=helpers.n||(depth0!=null?depth0.n:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"n",hash:{},data:data}):helper))+'" class="';stack1=(helper=(helper=helpers.isFirst||(depth0!=null?depth0.isFirst:depth0))!=null?helper:alias2,options={name:"isFirst",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data},typeof helper===alias3?helper.call(alias1,options):helper);if(!helpers.isFirst){stack1=helpers.blockHelperMissing.call(depth0,stack1,options)}if(stack1!=null){buffer+=stack1}return buffer+'">\n  <a class="editor-tab-a" href="#editor-tab-pane-'+alias4((helper=(helper=helpers.n||(depth0!=null?depth0.n:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"n",hash:{},data:data}):helper))+'" data-toggle="tab" aria-expanded="false">\n    <span class="name">'+alias4((helper=(helper=helpers.name||(depth0!=null?depth0.name:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper))+'</span><span class="unsaved hide">*</span>&nbsp;<span style="color: red;" onclick="closeActiveTab(\''+alias4((helper=(helper=helpers.n||(depth0!=null?depth0.n:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"n",hash:{},data:data}):helper))+"');\">&times;</span>\n  </a>\n</li>\n"},useData:true});templates["editor.hbs"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="tab-pane active" id="editor-tab-pane-'+alias4((helper=(helper=helpers.n||(depth0!=null?depth0.n:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"n",hash:{},data:data}):helper))+'" style="height: 100%;" data-filename="'+alias4((helper=(helper=helpers.filename||(depth0!=null?depth0.filename:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"filename",hash:{},data:data}):helper))+'">\n  <div class="editor" id="editor-'+alias4((helper=(helper=helpers.n||(depth0!=null?depth0.n:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"n",hash:{},data:data}):helper))+'"></div>\n</div>\n'},useData:true});templates["file-item.hbs"]=template({1:function(container,depth0,helpers,partials,data){
return"fa-folder"},3:function(container,depth0,helpers,partials,data){return"fa-file-o"},5:function(container,depth0,helpers,partials,data){return"color: grey;"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,options,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression,alias5=helpers.blockHelperMissing,buffer="<a oncontextmenu=\"folderMenu.filename = '"+alias4((helper=(helper=helpers.filename||(depth0!=null?depth0.filename:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"filename",hash:{},data:data}):helper))+"'; folderMenu.popup(remote.getCurrentWindow());\" onclick=\"openFile('"+alias4((helper=(helper=helpers.filename||(depth0!=null?depth0.filename:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"filename",hash:{},data:data}):helper))+"', "+alias4((helper=(helper=helpers.isDir||(depth0!=null?depth0.isDir:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"isDir",hash:{},data:data}):helper))+');" data-parnet-slug="" data-dirname="top_dir" href="#" class="list-group-item showdir" style="padding: 5px 10px;">\n  <i class="fa fa ';stack1=(helper=(helper=helpers.isDir||(depth0!=null?depth0.isDir:depth0))!=null?helper:alias2,options={name:"isDir",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data},typeof helper===alias3?helper.call(alias1,options):helper);if(!helpers.isDir){stack1=alias5.call(depth0,stack1,options)}if(stack1!=null){buffer+=stack1}buffer+='" style="';stack1=(helper=(helper=helpers.isDir||(depth0!=null?depth0.isDir:depth0))!=null?helper:alias2,options={name:"isDir",hash:{},fn:container.program(5,data,0),inverse:container.noop,data:data},typeof helper===alias3?helper.call(alias1,options):helper);if(!helpers.isDir){stack1=alias5.call(depth0,stack1,options)}if(stack1!=null){buffer+=stack1}return buffer+'"></i>\n  &nbsp;&nbsp;'+alias4((helper=(helper=helpers.basename||(depth0!=null?depth0.basename:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"basename",hash:{},data:data}):helper))+"\n</a>\n"},useData:true});templates["file-search-item.hbs"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return"<li class=\"hide\" onclick=\"$('#file-search-list .selected').removeClass('selected'); $(this).addClass('selected'); $('#file-search-form').submit();\" data-filename=\""+alias4((helper=(helper=helpers.fullFilename||(depth0!=null?depth0.fullFilename:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"fullFilename",hash:{},data:data}):helper))+'">\n  <a class="filename">'+alias4((helper=(helper=helpers.displayFilename||(depth0!=null?depth0.displayFilename:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"displayFilename",hash:{},data:data}):helper))+"</a>\n</li>\n"},useData:true});templates["history-row.hbs"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper;return'<p style="margin: 0px;">\n  <span style="white-space: pre-wrap;">'+container.escapeExpression((helper=(helper=helpers.command||(depth0!=null?depth0.command:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0!=null?depth0:{},{name:"command",hash:{},data:data}):helper))+"</span>\n</p>\n"},useData:true});templates["markdown-output.hbs"]=template({1:function(container,depth0,helpers,partials,data){return"  <script type=\"text/javascript\">\n    window.$ = window.jQuery = require('jquery');\n  </script>\n"},3:function(container,depth0,helpers,partials,data){return""},5:function(container,depth0,helpers,partials,data){return'  <!-- start nav -->\n  <nav class="navbar navbar-default" style="margin-bottom: 2px;">\n    <div class="container-fluid">\n      <div class="navbar-header">\n        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">\n          <span class="sr-only">Toggle navigation</span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n          <span class="icon-bar"></span>\n        </button>\n      </div>\n\n      <form id="pdf-form" class="navbar-form navbar-right" method="POST" action="/pdf" role="search">\n        <div class="form-group">\n          <input type="hidden" id="pdf-html" name="html" value="" />\n        </div>\n        <button type="submit" id="pdf" class="btn btn-primary">Export as PDF</button>\n      </form>\n\n    </div>\n  </nav>\n'},7:function(container,depth0,helpers,partials,data){return'  <script type="text/javascript">\n    $("#pdf-form").submit(function(e) {\n      e.preventDefault();\n      require(\'ipc\').send(\'pdf\', { html: $("#content").html() });\n      return false;\n    });\n  </script>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=depth0!=null?depth0:{};return'<!DOCTYPE html>\n<html lang="en">\n<head>\n  <title>Rodeo</title>\n  <link rel="stylesheet" href="css/styles.css" />\n  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/default.min.css">\n  <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>\n'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.desktop:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'  <script src="js/external.min.js"></script>\n</head>\n<body>\n'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.desktop:depth0,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.program(5,data,0),data:data}))!=null?stack1:"")+'  <!-- end nav -->\n  <div id="content" class="container">\n    '+((stack1=(helper=(helper=helpers.renderedMarkdown||(depth0!=null?depth0.renderedMarkdown:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(alias1,{name:"renderedMarkdown",hash:{},data:data}):helper))!=null?stack1:"")+'\n  </div>\n  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>\n  <script type="text/javascript">\n    $(document).ready(function() {\n      $("#pdf-html").val($("#content").html());\n    });\n  </script>\n'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.desktop:depth0,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+"</body>\n"},useData:true});templates["menu-item.hbs"]=template({1:function(container,depth0,helpers,partials,data){var stack1,helper,options,buffer="";stack1=(helper=(helper=helpers.isDivider||(depth0!=null?depth0.isDivider:depth0))!=null?helper:helpers.helperMissing,options={name:"isDivider",hash:{},fn:container.program(2,data,0),inverse:container.program(4,data,0),data:data},typeof helper==="function"?helper.call(depth0!=null?depth0:{},options):helper);if(!helpers.isDivider){stack1=helpers.blockHelperMissing.call(depth0,stack1,options)}if(stack1!=null){buffer+=stack1}return buffer},2:function(container,depth0,helpers,partials,data){return'      <li class="divider"></li>\n'},4:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return"        <li>\n          <a "+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.onclick:depth0,{name:"if",hash:{},fn:container.program(5,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+" "+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.href:depth0,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.noop,data:data}))!=null?stack1:"")+'>\n            <div class="row">\n              <div class="col-sm-6">\n                '+alias4((helper=(helper=helpers.text||(depth0!=null?depth0.text:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"text",hash:{},data:data}):helper))+'\n              </div>\n              <div class="col-sm-6 text-right">\n                <span style="font-size: 10px;">\n                  '+alias4((helper=(helper=helpers.shortcut||(depth0!=null?depth0.shortcut:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"shortcut",hash:{},data:data}):helper))+"\n                </span>\n              </div>\n            </div>\n          </a>\n        </li>\n"},5:function(container,depth0,helpers,partials,data){var helper;return'onclick="'+container.escapeExpression((helper=(helper=helpers.onclick||(depth0!=null?depth0.onclick:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0!=null?depth0:{},{name:"onclick",hash:{},data:data}):helper))+'"'},7:function(container,depth0,helpers,partials,data){var helper;return'href="'+container.escapeExpression((helper=(helper=helpers.href||(depth0!=null?depth0.href:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0!=null?depth0:{},{name:"href",hash:{},data:data}):helper))+'" target="_blank"'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,helper,options,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression,buffer='<li class="dropdown">\n  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">'+alias4((helper=(helper=helpers.name||(depth0!=null?depth0.name:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper))+'</span></a>\n  <ul id="menu-'+alias4((helper=(helper=helpers.name||(depth0!=null?depth0.name:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper))+'" class="dropdown-menu" role="menu" style="width: 250px !important;">\n';stack1=(helper=(helper=helpers.items||(depth0!=null?depth0.items:depth0))!=null?helper:alias2,options={name:"items",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data},typeof helper===alias3?helper.call(alias1,options):helper);if(!helpers.items){stack1=helpers.blockHelperMissing.call(depth0,stack1,options)}if(stack1!=null){buffer+=stack1}return buffer+"  </ul>\n</li>\n"},useData:true});templates["nav-item.hbs"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<li>\n  <a onclick="'+alias4((helper=(helper=helpers.onclick||(depth0!=null?depth0.onclick:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"onclick",hash:{},data:data}):helper))+'">\n    <div class="row">\n      <div class="col-sm-6">'+alias4((helper=(helper=helpers.text||(depth0!=null?depth0.text:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"text",hash:{},data:data}):helper))+'</div>\n      <div class="col-sm-6 text-right">\n        <span style="font-size: 10px;">\n          '+alias4((helper=(helper=helpers.shortcut||(depth0!=null?depth0.shortcut:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"shortcut",hash:{},data:data}):helper))+"\n        </span>\n      </div>\n    </div>\n  </a>\n</li>\n"},useData:true});templates["package-row.hbs"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return"<tr>\n  <td>"+alias4((helper=(helper=helpers.name||(depth0!=null?depth0.name:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"name",hash:{},data:data}):helper))+"</td>\n  <td>"+alias4((helper=(helper=helpers.version||(depth0!=null?depth0.version:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"version",hash:{},data:data}):helper))+"</td>\n</tr>\n"},useData:true});templates["preferences.hbs"]=template({1:function(container,depth0,helpers,partials,data){return"selected"},3:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1;return"              <option "+((stack1=(helpers.compare||depth0&&depth0.compare||helpers.helperMissing).call(depth0!=null?depth0:{},depths[1]!=null?depths[1].pythonCmd:depths[1],depth0,{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+">"+container.escapeExpression(container.lambda(depth0,depth0))+"</option>\n"},5:function(container,depth0,helpers,partials,data){return"checked"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data,blockParams,depths){var stack1,helper,options,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression,alias5=helpers.blockHelperMissing,buffer='<div class="container">\n  <ul class="nav nav-tabs">\n    <li class="active"><a href="#general" data-toggle="tab">General</a></li>\n    <li><a href="#editor" data-toggle="tab">Editor</a></li>\n  </ul>\n  <div id="preferences-container" class="tab-content" style="height: 100%;">\n\n    <!-- General Tab -->\n    <div class="tab-pane active" id="general" style="height: 100%;">\n      <br>\n      <div class="form-group">\n        <label for="theme">Theme</label>\n        <select onchange="setTheme($(this).val());" class="form-control" name="theme" id="theme">\n          <option value="css/styles.css" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.theme:depth0,"css/styles.css",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>light</option>\n          <option value="css/styles-presentation.css" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.theme:depth0,"css/styles-presentation.css",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>presentation</option>\n          <option value="css/styles-dark.css" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.theme:depth0,"css/styles-dark.css",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>dark</option>\n          <option value="css/styles-cobalt.css" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.theme:depth0,"css/styles-cobalt.css",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>cobalt</option>\n        </select>\n      </div>\n      <div class="form-group">\n        <label for="defaultWorkingDirectory">\n          Default Working Directory\n          <a data-toggle="tooltip" data-placement="right" title="<p class=\'small\'>This is the default directory that Rodeo will open on launch.</p>" data-html="true"><i class="fa fa-question-circle"></i></a>\n        </label>\n        <input onclick="var me = $(this); setWorkingDirectory(function(wd) { $(me).val(wd); });" class="form-control" id="defaultWorkingDirectory" name="defaultWorkingDirectory" value="'+alias4((helper=(helper=helpers.defaultWd||(depth0!=null?depth0.defaultWd:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"defaultWd",hash:{},data:data}):helper))+'" />\n      </div>\n      <div class="form-group">\n        <label for="pythonCmd">\n          Default Python Command\n          <a data-toggle="tooltip" data-placement="right" title="<p class=\'small\'>The <code>python</code> command that Rodeo will use. Some operating systems (OSX in particular) ship with multiple versions of Python installed. This can be confusing and it is sometimes difficult to determine which <code>python</code> is the \'right one\'.</p>" data-html="true"><i class="fa fa-question-circle"></i></a>\n        </label>\n        <div class="form-inline">\n          <select onchange="changeDefaultPath($(this).val());" class="form-control">\n';stack1=(helper=(helper=helpers.pythonPaths||(depth0!=null?depth0.pythonPaths:depth0))!=null?helper:alias2,options={name:"pythonPaths",hash:{},fn:container.program(3,data,0,blockParams,depths),inverse:container.noop,data:data},typeof helper===alias3?helper.call(alias1,options):helper);if(!helpers.pythonPaths){stack1=alias5.call(depth0,stack1,options)}if(stack1!=null){buffer+=stack1}buffer+='            <!-- <option value="add-path">Add new python path</option> -->\n          </select>\n          <button onclick="changeDefaultPath(\'add-path\');" class="btn btn-primary">+</button>\n        </div>\n      </div>\n      <div class="form-group">\n        <label for="defaultVariables">\n          Default Variables\n          <a data-toggle="tooltip" data-placement="right" title="<p class=\'small\'>Configure default variables that will be created when Rodeo is started. This is just a Python script that is executed on startup.</p>" data-html="true"><i class="fa fa-question-circle"></i></a>\n        </label>\n        <button class="btn btn-xs btn-primary" onclick="showRodeoProfile();">Configure</button>\n      </div>\n      <div class="form-group">\n        <div style="width:20%; max-width: 25%;">\n          <label for="fontType">Font Type</label>\n          <select onchange="setFontType($(this).val());" class="form-control" id="fontType" name="fontType" type="number" value="'+alias4((helper=(helper=helpers.fontType||(depth0!=null?depth0.fontType:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"fontType",hash:{},data:data}):helper))+'" >\n              <option value="Consolas" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontType:depth0,depth0!=null?depth0.Consolas:depth0,{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>Consolas</option>\n              <option value="Courier New" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontType:depth0,"Courier New",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>Courier New</option>\n              <option value="Georgia" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontType:depth0,depth0!=null?depth0.Georgia:depth0,{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>Georgia</option>\n              <option value="Helvetica Neue" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontType:depth0,"Helvetica Neue",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>Helvetica Neue (default)</option>\n              <option value="Helvetica" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontType:depth0,"Helvetica",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>Helvetica</option>\n              <option value="Inconsolata" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontType:depth0,depth0!=null?depth0.Inconsolata:depth0,{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>Inconsolata</option>\n          </select>\n        </div>\n      </div>\n      <div class="form-group">\n        <div style="width:10%; max-width: 25%;">\n          <label for="fontSize">Font Size</label>\n          <select onchange="setFontSize($(this).val());" class="form-control" id="fontSize" name="fontSize" type="number" value="'+alias4((helper=(helper=helpers.fontSize||(depth0!=null?depth0.fontSize:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"fontSize",hash:{},data:data}):helper))+'" >\n              <option value="10" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontSize:depth0,10,{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>10</option>\n              <option value="12" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontSize:depth0,12,{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>12</option>\n              <option value="14" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontSize:depth0,14,{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>14</option>\n              <option value="16" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontSize:depth0,16,{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>16</option>\n              <option value="18" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontSize:depth0,18,{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>18</option>\n              <option value="20" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontSize:depth0,20,{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>20</option>\n              <option value="22" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.fontSize:depth0,22,{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>22</option>\n          </select>\n        </div>\n      </div>\n      <div class="checkbox">\n        <label>\n          <input onchange="setDisplayDotFiles($(this).prop(\'checked\'));" type="checkbox" ';stack1=(helper=(helper=helpers.displayDotFiles||(depth0!=null?depth0.displayDotFiles:depth0))!=null?helper:alias2,options={name:"displayDotFiles",hash:{},fn:container.program(5,data,0,blockParams,depths),inverse:container.noop,data:data},typeof helper===alias3?helper.call(alias1,options):helper);if(!helpers.displayDotFiles){stack1=alias5.call(depth0,stack1,options)}if(stack1!=null){buffer+=stack1}buffer+='> Display Dot Files\n          <a data-toggle="tooltip" data-placement="right" title="<p class=\'small\'>When checked, \'dotfiles\' and directories (i.e. <code>.git</code>) will be displayed. NOTE: When updated, this will take affect upon restart.</p>" data-html="true"><i class="fa fa-question-circle"></i></a>\n        </label>\n      </div>\n      <div class="checkbox">\n        <label>\n          <input onchange="setTracking($(this).prop(\'checked\'));" type="checkbox" ';stack1=(helper=(helper=helpers.trackingOn||(depth0!=null?depth0.trackingOn:depth0))!=null?helper:alias2,options={name:"trackingOn",hash:{},fn:container.program(5,data,0,blockParams,depths),inverse:container.noop,data:data},typeof helper===alias3?helper.call(alias1,options):helper);if(!helpers.trackingOn){stack1=alias5.call(depth0,stack1,options)}if(stack1!=null){buffer+=stack1}buffer+='> Tracking Metrics\n          <a data-toggle="tooltip" data-placement="right" title="<p class=\'small\'>When checked, <strong>anonymous</strong> usage metrics will be reported back to <span style=\'color: #ee5311;\'>&ycirc;</span>hat.</p>" data-html="true"><i class="fa fa-question-circle"></i></a>\n        </label>\n      </div>\n    </div>\n    <!-- End General Tab -->\n\n    <!-- Editor Tab -->\n    <div class="tab-pane in" id="editor" style="height: 100%;">\n      <br>\n      <div class="form-group">\n        <label for="editorTheme">Color Scheme</label>\n        <select onchange="setEditorTheme($(this).val());" class="form-control" name="editorTheme" id="editorTheme">\n          <option value="ace/theme/ambiance" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/ambiance",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>ambiance</option>\n          <option value="ace/theme/chaos" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/chaos",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>chaos</option>\n          <option value="ace/theme/chrome" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/chrome",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>chrome (default)</option>\n          <option value="ace/theme/clouds" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/clouds",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>clouds</option>\n          <option value="ace/theme/clouds_midnight" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/clouds_midnight",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>clouds midnight</option>\n          <option value="ace/theme/cobalt" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/cobalt",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>cobalt</option>\n          <option value="ace/theme/crimson_editor" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/crimson_editor",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>crimson editor</option>\n          <option value="ace/theme/dawn" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/dawn",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>dawn</option>\n          <option value="ace/theme/dreamweaver" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/dreamweaver",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>dreamweaver</option>\n          <option value="ace/theme/eclipse" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/eclipse",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>eclipse</option>\n          <option value="ace/theme/github" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/github",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>github</option>\n          <option value="ace/theme/idle_fingers" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/idle_fingers",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>idle fingers</option>\n          <option value="ace/theme/katzenmilch" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/katzenmilch",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>katzenmilch</option>\n          <option value="ace/theme/kr_theme" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/kr_theme",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>kr theme</option>\n          <option value="ace/theme/kuroir" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/kuroir",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>kuroir</option>\n          <option value="ace/theme/merbivore" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/merbivore",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>merbivore</option>\n          <option value="ace/theme/merbivore_soft" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/merbivore_soft",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>merbivore soft</option>\n          <option value="ace/theme/mono_industrial" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/mono_industrial",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>mono industrial</option>\n          <option value="ace/theme/monokai" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/monokai",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>monokai</option>\n          <option value="ace/theme/pastel_on_dark" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/pastel_on_dark",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>pastel on dark</option>\n          <option value="ace/theme/solarized_dark" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/solarized_dark",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>solarized dark</option>\n          <option value="ace/theme/solarized_light" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/solarized_light",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>solarized light</option>\n          <option value="ace/theme/terminal" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/terminal",{
name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>terminal</option>\n          <option value="ace/theme/textmate" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/textmate",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>textmate</option>\n          <option value="ace/theme/tomorrow" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/tomorrow",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>tomorrow</option>\n          <option value="ace/theme/tomorrow_night" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/tomorrow_night",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>tomorrow night</option>\n          <option value="ace/theme/tomorrow_night_blue" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/tomorrow_night_blue",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>tomorrow night blue</option>\n          <option value="ace/theme/tomorrow_night_bright" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/tomorrow_night_bright",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>tomorrow night bright</option>\n          <option value="ace/theme/tomorrow_night_eighties" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/tomorrow_night_eighties",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>tomorrow night eighties</option>\n          <option value="ace/theme/twilight" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/twilight",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>twilight</option>\n          <option value="ace/theme/vibrant_ink" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/vibrant_ink",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>vibrant ink</option>\n          <option value="ace/theme/xcode" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.editorTheme:depth0,"ace/theme/xcode",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>xcode</option>\n        </select>\n      </div>\n      <div class="form-group">\n        <label for="keyBindings">Key Bindings</label>\n        <select onchange="setKeyBindings($(this).val());" class="form-control" name="keyBindings" id="keyBindings">\n          <option value="default" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.keyBindings:depth0,"default",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>default</option>\n          <option value="ace/keyboard/vim" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.keyBindings:depth0,"ace/keyboard/vim",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>vim</option>\n          <option value="ace/keyboard/emacs" '+((stack1=(helpers.compare||depth0&&depth0.compare||alias2).call(alias1,depth0!=null?depth0.keyBindings:depth0,"ace/keyboard/emacs",{name:"compare",hash:{},fn:container.program(1,data,0,blockParams,depths),inverse:container.noop,data:data}))!=null?stack1:"")+'>emacs</option>\n        </select>\n      </div>\n      <div class="checkbox">\n        <label>\n          <input onchange="setAutoSave($(this).prop(\'checked\'));" type="checkbox" ';stack1=(helper=(helper=helpers.autoSave||(depth0!=null?depth0.autoSave:depth0))!=null?helper:alias2,options={name:"autoSave",hash:{},fn:container.program(5,data,0,blockParams,depths),inverse:container.noop,data:data},typeof helper===alias3?helper.call(alias1,options):helper);if(!helpers.autoSave){stack1=alias5.call(depth0,stack1,options)}if(stack1!=null){buffer+=stack1}return buffer+"> AutoSave Files\n        </label>\n      </div>\n    </div>\n    <!-- End Editor Tab -->\n  </div>\n</div>\n"},useData:true,useDepths:true});templates["python-path-item.hbs"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var alias1=container.lambda,alias2=container.escapeExpression;return'<li class="list-group-item">\n  <i>'+alias2(alias1(depth0,depth0))+'</i>\n  <button onclick="deletePythonPath(this);" data-path="'+alias2(alias1(depth0,depth0))+'" class="btn btn-xs btn-danger pull-right">remove</button>\n</li>\n'},useData:true});templates["python-test-output.hbs"]=template({1:function(container,depth0,helpers,partials,data){return"list-group-item-success"},3:function(container,depth0,helpers,partials,data){return"list-group-item-danger"},5:function(container,depth0,helpers,partials,data){return'<i class="fa fa-check"></i>'},7:function(container,depth0,helpers,partials,data){return'<i class="fa fa-times"></i>'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=depth0!=null?depth0:{};return'<ul class="list-group">\n  <li id="output-python" class="list-group-item '+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.status:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))!=null?stack1:"")+'">\n    Python PATH&nbsp;'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.status:depth0,{name:"if",hash:{},fn:container.program(5,data,0),inverse:container.program(7,data,0),data:data}))!=null?stack1:"")+'\n  </li>\n  <li id="output-jupyter" class="list-group-item '+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.jupyter:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))!=null?stack1:"")+'">\n    Jupyter&nbsp;'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.jupyter:depth0,{name:"if",hash:{},fn:container.program(5,data,0),inverse:container.program(7,data,0),data:data}))!=null?stack1:"")+'\n  </li>\n  <li id="output-matplotlib" class="list-group-item '+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.matplotlib:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))!=null?stack1:"")+'">\n    matplotlib&nbsp;'+((stack1=helpers["if"].call(alias1,depth0!=null?depth0.matplotlib:depth0,{name:"if",hash:{},fn:container.program(5,data,0),inverse:container.program(7,data,0),data:data}))!=null?stack1:"")+"\n  </li>\n</ul>\n"},useData:true});templates["python-triage.hbs"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper,alias1=depth0!=null?depth0:{},alias2=helpers.helperMissing,alias3="function",alias4=container.escapeExpression;return'<div class="jumbotron" style="background-color: inherit;">\n  <h2>'+alias4((helper=(helper=helpers.errorMessage||(depth0!=null?depth0.errorMessage:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"errorMessage",hash:{},data:data}):helper))+'</h2>\n  <p class="lead">'+alias4((helper=(helper=helpers.errorSubmessage||(depth0!=null?depth0.errorSubmessage:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"errorSubmessage",hash:{},data:data}):helper))+'</p>\n</div>\n\n\n\n\n\n<div class="jumbotron" style="background-color: inherit;">\n  <h2>Looks like we\'re having trouble finding your python path</h2>\n  <p class="lead">If you know your python path, paste it in the field below:</p>\n  <div class="row">\n    <div class="form-group col-sm-8 col-sm-offset-2">\n      <div class="input-group">\n        <input id="python-path" class="form-control" type="text"/>\n        <div class="input-group-btn">\n          <button id="btn-set-path" class="btn btn-primary">Set Path</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div id="test-results" class="col-sm-4 col-sm-offset-4">\n    </div>\n  </div>\n  <img id="loading-gif" src="img/loading-stopped.gif" style="max-height: 200px;" />\n  <div id="which-python" class="row">\n    <h2>Don\'t know your python path?</h2>\n    <p class="lead">\n      <a onClick="shell.openItem(\''+alias4((helper=(helper=helpers.pathToterminal||(depth0!=null?depth0.pathToterminal:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"pathToterminal",hash:{},data:data}):helper))+'\');">Click here to open the Terminal application</a>\n      and run the command below:\n    </p>\n    <div class="row">\n      <div class="col-sm-8 col-sm-offset-2 text-left">\n        <pre>$ which python</pre>\n      </div>\n    </div>\n  </div>\n  <!--  start ready -->\n  <div id="rodeo-ready" class="row hide">\n    <h2>Ok! You\'re ready to go!</h2>\n    <p class="lead">Hope you enjoy Rodeo!</p>\n    <img src="img/rodeo-text-dark.png" style="max-height: 150px;"/>\n  </div>\n  <!--  end ready -->\n  <!--  start install jupyter -->\n  <div id="install-jupyter" class="row hide">\n    <h2>Looks like you\'re missing <i>jupyter</i></h2>\n    <p class="lead">\n      <a onClick="shell.openItem(\''+alias4((helper=(helper=helpers.pathToterminal||(depth0!=null?depth0.pathToterminal:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"pathToterminal",hash:{},data:data}):helper))+'\');">Click here to open the Terminal application</a>\n      and run the command below:\n    </p>\n    <p class="lead">For Conda users:</p>\n    <div class="row">\n      <div class="col-sm-8 col-sm-offset-2 text-left">\n        <pre>$ conda install jupyter</pre>\n      </div>\n    </div>\n    <p class="lead">For pip users:</p>\n    <div class="row">\n      <div class="col-sm-8 col-sm-offset-2 text-left">\n        <pre>$ pip install jupyter</pre>\n      </div>\n    </div>\n  </div>\n  <!--  end install jupyter -->\n\n  <!--  start install matplotlib -->\n  <div id="install-matplotlib" class="row hide">\n    <h2>Looks like you\'re missing <i>matplotlib</i></h2>\n    <p class="lead">\n      <a onClick="shell.openItem(\''+alias4((helper=(helper=helpers.pathToterminal||(depth0!=null?depth0.pathToterminal:depth0))!=null?helper:alias2,typeof helper===alias3?helper.call(alias1,{name:"pathToterminal",hash:{},data:data}):helper))+'\');">Click here to open the Terminal application</a>\n      and run the command below:\n    </p>\n    <p class="lead">For Conda users:</p>\n    <div class="row">\n      <div class="col-sm-8 col-sm-offset-2 text-left">\n        <pre>$ conda install matplotlib</pre>\n      </div>\n    </div>\n    <p class="lead">For pip users:</p>\n    <div class="row">\n      <div class="col-sm-8 col-sm-offset-2 text-left">\n        <pre>$ pip install matplotlib</pre>\n      </div>\n    </div>\n  </div>\n  <!--  end install matplotlib -->\n</div>\n'},useData:true});templates["shortcuts.hbs"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<table class="table table-bordered" style="margin-bottom: 0px;">\n  <thead>\n    <tr>\n      <th>Topic</th>\n      <th>OSX</th>\n      <th>Windows / Linux</th>\n      <th>Action</th>\n    </tr>\n  </thead>\n  <tbody id="shortcut-rows">\n    <!-- system shortcuts -->\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>enter</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>enter</kbd></td>\n      <td>run code</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>,</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>,</kbd></td>\n      <td>show preferences</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>g</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>g</kbd></td>\n      <td>set default variables</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>Q</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>Q</kbd></td>\n      <td>theoretical explanation</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>N</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>N</kbd></td>\n      <td>new editor</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8679;</kbd> + <kbd>&#8984;</kbd> + <kbd>O</kbd></td>\n      <td> <kbd>&#8679;</kbd> + <kbd><kbd>ctrl</kbd></kbd> + <kbd>O</kbd></td>\n      <td>open file</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>s</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>s</kbd></td>\n      <td>save file</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>w</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>w</kbd></td>\n      <td>close file</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>t</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>t</kbd></td>\n      <td>find file</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>opt</kbd> + <kbd>&#8592;</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>opt</kbd> + <kbd>&#8592;</kbd></td>\n      <td>move to editor to the left of active editor</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>opt</kbd> + <kbd>&#8594;</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>opt</kbd> + <kbd>&#8594;</kbd></td>\n      <td>move to editor to the right of active editor</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>1</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>1</kbd></td>\n      <td>focus on editor</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>2</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>2</kbd></td>\n      <td>focus on console</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>3</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>3</kbd></td>\n      <td>toggle view for Environment/History</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>4</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>4</kbd></td>\n      <td>toggle view for Files/Plots/Packages/Help</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>R</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>R</kbd></td>\n      <td>restart Rodeo</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>0</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>0</kbd></td>\n      <td>default zoom</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>=</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>=</kbd></td>\n      <td>zoom in</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>-</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>-</kbd></td>\n      <td>zoom out</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>&#8679;</kbd> + <kbd>g</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>&#8679;</kbd> + <kbd>g</kbd></td>\n      <td>set working directory</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>&#8679;</kbd> + <kbd>2</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>&#8679;</kbd> + <kbd>2</kbd></td>\n      <td>rerun 2nd to last command</td>\n    </tr>\n    <tr>\n      <td>System</td>\n      <td><kbd>&#8984;</kbd> + <kbd>&#8679;</kbd> + <kbd>1</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>&#8679;</kbd> + <kbd>1</kbd></td>\n      <td>rerun last command</td>\n    </tr>\n    <!-- console shortcuts -->\n    <tr>\n      <td>Console</td>\n      <td><kbd>&#8984;</kbd>/<kbd>ctrl</kbd> + <kbd>l</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>l</kbd></td>\n      <td>clear console</td>\n    </tr>\n    <tr>\n      <td>Console</td>\n      <td><kbd>&#8984;</kbd>/<kbd>ctrl</kbd> + <kbd>a</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>a</kbd></td>\n      <td>skip to beginning of console</td>\n    </tr>\n    <tr>\n      <td>Console</td>\n      <td><kbd>&#8984;</kbd>/<kbd>ctrl</kbd> + <kbd>e</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>e</kbd></td>\n      <td>skip to end of console</td>\n    </tr>\n    <tr>\n      <td>Console</td>\n      <td><kbd>&#8984;</kbd>/<kbd>ctrl</kbd> + <kbd>c</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>c</kbd></td>\n      <td>cancel console input</td>\n    </tr>\n    <tr>\n      <td>Console</td>\n      <td><kbd>&#8984;</kbd>/<kbd>ctrl</kbd> + <kbd>u</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>u</kbd></td>\n      <td>clear to beginning of console</td>\n    </tr>\n    <tr>\n      <td>Console</td>\n      <td><kbd>&#8984;</kbd>/<kbd>ctrl</kbd> + <kbd>k</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>k</kbd></td>\n      <td>clear to end of console</td>\n    </tr>\n    <tr>\n      <td>Console</td>\n      <td><kbd>&#8984;</kbd>/<kbd>ctrl</kbd> + <kbd>w</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>w</kbd></td>\n      <td>clear one word backwards in console</td>\n    </tr>\n    <tr>\n      <td>Console</td>\n      <td><kbd><i>tab</i></kbd></td>\n      <td><kbd><i>tab</i></kbd></td>\n      <td>show autocomplete options</td>\n    </tr>\n    <!-- Editor shortcuts -->\n    <tr>\n      <td>Editor</td>\n      <td><kbd>&#8984;</kbd> + <kbd>f</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>f</kbd></td>\n      <td>find text</td>\n    </tr>\n    <tr>\n      <td>Editor</td>\n      <td><kbd><i>tab</i></kbd></td>\n      <td><kbd><i>tab</i></kbd></td>\n      <td>show autocomplete options</td>\n    </tr>\n      <tr>\n      <td>Editor</td>\n      <td><kbd>&#8984;</kbd>/<kbd>ctrl</kbd> + <kbd>/</kbd></td>\n      <td><kbd>ctrl</kbd> + <kbd>/</kbd></td>\n      <td>comment code</td>\n    </tr>\n  </tbody>\n</table><footer class="container">\n  &#x2318; = Command, &#x21E7; = Shift, &#x2190;&#x2191;&#x2192;&#x2193; = Arrow Keys\n</footer>\n'},useData:true});templates["wd.hbs"]=template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper;return'<a class="list-group-item" style="padding: 5px 10px;">\n  <i onclick="fileMenu.popup(remote.getCurrentWindow());" class="fa fa-cogs" style="color: grey;"></i>&nbsp;\n  &nbsp;&nbsp;'+container.escapeExpression((helper=(helper=helpers.dir||(depth0!=null?depth0.dir:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0!=null?depth0:{},{name:"dir",hash:{},data:data}):helper))+"\n</a>\n"},useData:true})})();function isDesktop(){return/^file:\/\//.test(window.location.href)}function updateRC(preferenceName,preferenceValue){if(isDesktop()){return ipc.send("preferences-post",{name:preferenceName,value:preferenceValue})}else{$.post("preferences",{name:preferenceName,value:preferenceValue})}}function formatFilename(filename){if(1==2){return filename.replace(/\\/g,"\\\\")}else{return filename}}function pathJoin(parts){var separator;if(navigator.platform=="Win32"){separator="\\\\"}else{separator="/"}var replace=new RegExp(separator+"{1,}","g");return parts.join(separator).replace(replace,separator)}function pathBasename(path){return path.split(/[\\/]/).pop()}function guid(){function s4(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}$("#package-install-button").click(function(e){$("#package-install-modal").modal("show");$("#package-install-modal input").focus()});$("#package-install-modal form").submit(function(e){e.preventDefault();var installer=$("[name='installerRadio']:checked").val();var pkgname=$("#package-to-install").val();var command;if(installer=="pip"){command="__pip_install('"+pkgname+"')"}else{command="! conda install -y "+pkgname}jqconsole.ClearPromptText();jqconsole.Write(">>> "+command+"\n","jqconsole-old-input");jqconsole.SetHistory(jqconsole.GetHistory().concat([command]));sendCommand(command);return false});function setupMenu(){var RodeoMenu={name:"Rodeo",items:[{text:"About",href:"about"},{text:"Preferences",shortcut:" + ,",onclick:"showPreferences();"},{text:"Default Variables",onclick:"showRodeoProfile();"},{isDivider:true},{text:"Log Out",onclick:"logout();"}]};$("#psuedo-file-menu").append(menu_item_template(RodeoMenu));var FileMenu={name:"File",items:[{text:"File",shortcut:" + opt + shift + n",onclick:"$('#add-tab').click();"},{text:"Open",shortcut:" + shift + o",onclick:"$('#file-upload-trigger').click();"},{isDivider:true},{text:"Save",shortcut:" + s",onclick:"saveActiveEditor();"},{text:"Save As",shortcut:"",onclick:"saveActiveEditor(true);"},{isDivider:true},{text:"Close",shortcut:" + opt + shift + w /  + b",onclick:"closeActiveFile();"},{text:"Find File",shortcut:" + opt + t /  + k",onclick:"findFile();"}]};$("#psuedo-file-menu").append(menu_item_template(FileMenu));var ViewMenu={name:"View",items:[{text:"Change Editor"},{text:" Move One Left",shortcut:"ctrl + opt + left",onclick:"shiftEditorLeft();"},{text:" Move One Right",shortcut:"ctrl + opt + right",onclick:"shiftEditorRight();"},{isDivider:true},{text:"Focus"},{text:" Editor",shortcut:" + shift + 1",onclick:"focusOnEditor();"},{text:" Console",shortcut:" + shift + 2",onclick:"focusOnConsole();"},{text:" Variables & History",shortcut:" + shift + 3",onclick:"focusOnTopRight();"},{text:" Files, Plots, Packages, ...",shortcut:" + shift + 4",onclick:"focusOnBottomRight();"}]};$("#psuedo-file-menu").append(menu_item_template(ViewMenu));var WindowMenu={name:"Window",items:[{text:"Reset Windows to Default Sizes",onclick:"resetWindowCalibration();"}]};$("#psuedo-file-menu").append(menu_item_template(WindowMenu));var SessionMenu={name:"Session",items:[{text:"Restart Session",onclick:"restartSession();"},{text:"Set Working Directory",onclick:"setWorkingDirectory();"},{text:"Last Command",shortcut:" + shift + 1",onclick:"runLastCommand();"},{text:"2nd to Last Command",shortcut:" + shift + 2",onclick:"run2ndToLastCommand();"}]};$("#psuedo-file-menu").append(menu_item_template(SessionMenu));var HelpMenu={name:"Help",items:[{text:"View Shortcuts",onclick:"$('#shortcut-display-modal').modal('show');"},{text:"Docs",href:"http://yhat.github.io/rodeo-docs/"},{text:"Tour",onclick:"$('#tour-modal').modal('show');"}]};$("#psuedo-file-menu").append(menu_item_template(HelpMenu))}function previousPlot(){track("plot","previous");var currentPlot=$("#plots .active");if($("#plots .active").prev().length){var plotid=$("#plots .active").prev().data("plot-id");activatePlot(plotid)}}function nextPlot(){track("plot","next");var currentPlot=$("#plots .active");if($("#plots .active").next().length){var plotid=$("#plots .active").next().data("plot-id");activatePlot(plotid)}}function deletePlot(){track("plot","delete");var currentplotid=$("#plots .active").data("plot-id");var plotid;if($("#plots .active").next().length){plotid=$("#plots .active").next().data("plot-id");activatePlot(plotid)}else if($("#plots .active").prev().length){plotid=$("#plots .active").prev().data("plot-id");activatePlot(plotid)}$("#plots [data-plot-id='"+currentplotid+"']").remove();$("#plots-minimap [data-plot-id='"+currentplotid+"']").remove()}function activatePlot(plotid){$("#plots .active").removeClass("active").addClass("hide");$("#plots-minimap .active").removeClass("active");$("#plots [data-plot-id='"+plotid+"']").removeClass("hide").addClass("active");$("#plots-minimap [data-plot-id='"+plotid+"']").addClass("active")}function showPlot(){track("plot","show");if(!$("#plots img.active").length){return}if(isDesktop()){var BrowserWindow=remote.require("browser-window");var filename=$("#plots img.active").attr("src");var params={toolbar:false,resizable:false,show:true,height:1e3,width:1e3};var plotWindow=new BrowserWindow(params);plotWindow.loadURL(filename)}else{var filename=$("#plots img.active").attr("src");var newWindow=window.open("","Rodeo Markdown","width="+$(window).width()*.6+",height="+$(window).height()+",scrollbars=1,resizable=1");newWindow.document.open();var img='<img src="'+filename+'" />';newWindow.document.write("<html><body>"+img+"</body>");newWindow.document.close()}}function savePlot(){track("plot","save");if(!$("#plots .active").length){return}if(isDesktop()){remote.require("dialog").showSaveDialog({title:"Export Plot",default_path:ipc.send("wd-get")},function(destfile){if(!destfile){return}if(!/\.png$/.test(destfile)){destfile+=".png"}if($("#plots img.active").length){var img=$("img.active").attr("src").replace("data:image/png;charset=utf-8;base64,","");require("fs").writeFileSync(destfile,img,"base64")}else{var svg=document.getElementsByTagName("svg")[0];svgAsDataUri(svg,{},function(uri){img=uri.replace("data:image/svg+xml;base64,","");require("fs").writeFileSync(destfile,img,"base64")})}})}else{bootbox.alert("Right-click the plot to save.")}}function addPlot(result){var plotid=guid();if(result.image){var plotImage="data:image/png;charset=utf-8;base64,"+result.image;$("#plots-minimap .active").removeClass("active");$("#plots .active").removeClass("active").addClass("hide");var newplot=$.parseHTML('<img class="active" style="max-height: 100%; max-width: 100%;" />');$(newplot).attr("src",plotImage)}else if(result.html){$("#plots .active").removeClass("active").addClass("hide");result.html=result.html.replace(/600px/g,"95%");var newplot=$.parseHTML('<div class="active">'+result.html+"</div>")}$(newplot).attr("onclick","activatePlot($(this).data('plot-id'));");$(newplot).attr("data-plot-id",plotid);$("#plots").append($(newplot).clone());$("#plots-minimap").prepend($(newplot).clone());$('a[href="#plot-window"]').tab("show");calibratePanes()}function setEditorTheme(theme){$(".editor").each(function(i,item){var editor=ace.edit(item.id);editor.setTheme(theme)});updateRC("editorTheme",theme)}ace.require("ace/keyboard/vim");ace.require("ace/keyboard/emacs");function setKeyBindings(binding){$(".editor").each(function(i,item){var editor=ace.edit(item.id);if(binding=="default"){binding=null}editor.setKeyboardHandler(binding)});updateRC("keyBindings",binding)}function setFontSize(fontSize){var fontSizeInt=parseInt(fontSize);fontSize=Math.min(fontSizeInt,22)+"px";$("body").css("font-size",fontSize);$("#console pre").css("font-size",fontSize);$(".editor").each(function(i,item){var editor=ace.edit(item.id);editor.setFontSize(fontSize)});updateRC("fontSize",fontSizeInt)}function setFontType(fontType){$("body").css("font-family",fontType);$(".editor").each(function(i,item){var editor=ace.edit(item.id);var validFonts=["Consolas","Courier New","Menlo","Monaco"];if(validFonts.indexOf(fontType)>-1){editor.setOption("fontFamily",fontType)}});updateRC("fontType",fontType)}function setDefaultWd(wd){updateRC("defaultWd",wd)}function setTheme(theme){if($("#rodeo-theme").attr("href")!=theme){$("#rodeo-theme").attr("href",theme)}updateRC("theme",theme)}function setPythonCmd(cmd){if(cmd){cmd=cmd.replace("~",USER_HOME);updateRC("pythonCmd",cmd)}else{updateRC("pythonCmd",null)}}function setAutoSave(val){updateRC("autoSave",val)}function setDisplayDotFiles(val){updateRC("displayDotFiles",val)}function setTracking(val){updateRC("trackingOn",val)}function saveWindowCalibration(){var paneVertical=100*$("#pane-container #left-column").width()/$("#pane-container").width();var paneHorizontalRight=100*$("#pane-container #top-right").height()/$("#pane-container #right-column").height();var paneHorizontalLeft=100*$("#pane-container #top-left").height()/$("#pane-container #left-column").height();updateRC("paneVertical",paneVertical+"%");updateRC("paneHorizontalRight",paneHorizontalRight+"%");updateRC("paneHorizontalLeft",paneHorizontalLeft+"%")}function resetWindowCalibration(){bootbox.dialog({title:"This will restart your Rodeo session. Are you sure you want to continue?",message:"Any unsaved scripts and data will be deleted permanently.",buttons:{cancel:{label:"Cancel",className:"btn-default",callback:function(){return}},yes:{label:"Yes",className:"btn-primary",callback:function(){updateRC("paneVertical",null);updateRC("paneHorizontalRight",null);updateRC("paneHorizontalLeft",null);window.location.reload()}}}})}function changeDefaultPath(pythonPath){if(pythonPath=="add-path"){$("#default-python-modal").modal("show")}else{setPythonCmd(pythonPath);bootbox.dialog({title:"Your default Python environment has been updated.",message:"For the changes to take affect, you'll need to restart Rodeo. Would you like to do this now?",buttons:{cancel:{label:"No",className:"btn-default",callback:function(){return}},yes:{label:"Yes",className:"btn-primary",callback:function(){require("remote").getCurrentWindow().reload()}}}})}}function showRodeoProfile(){if(isDesktop()){var userHome=ipc.send("home-get");var profilePath=pathJoin([userHome,".rodeoprofile"]);openFile(profilePath)}else{$.get("profile",function(profile){newEditor(".rodeoprofile","~/.rodeoprofile",profile)})}}function configurePreferences(rc){rc.keyBindings=rc.keyBindings||"default";rc.defaultWd=rc.defaultWd||USER_HOME;rc.fontType=rc.FontType||"Helvetica Neue";rc.pythonPaths=rc.pythonPaths||[];if(rc.pythonCmd){if(rc.pythonPaths.indexOf(rc.pythonCmd)<0){rc.pythonPaths.push(rc.pythonCmd)}}if(rc.trackingOn!=false){rc.trackingOn=true}var preferences_html=preferences_template(rc);$("#preferences").children().remove();$("#preferences").append(preferences_html);$('[data-toggle="tooltip"]').tooltip();if(rc.defaultWd){USER_WD=rc.defaultWd}else{USER_WD=USER_HOME}if(rc.theme){setTheme(rc.theme)}if(rc.fontSize){setFontSize(rc.fontSize)}if(rc.fontType){setFontType(rc.fontType)}}$("#add-path-button").click(function(e){var newPath=$("#new-python-path").val();var data=ipc.send("test-path",newPath);if(data){if(data.jupyter&&data.matplotlib){var result=ipc.send("add-python-path",newPath);if(result==true){$("#python-paths").append(python_path_item(newPath));bootbox.dialog({title:"Would you like this to be your default python environment?",message:"If you do, Rodeo will restart for the changes to take affect.",buttons:{cancel:{label:"No",className:"btn-default",callback:function(){setupPreferences()}},yes:{label:"Yes",className:"btn-primary",callback:function(){setPythonCmd(newPath);setupPreferences();require("remote").getCurrentWindow().reload()}}}})}else{$("#add-path-help").text("Could not add python path: "+result)}}else if(!data.jupyter){$("#add-path-help").text("The path you specified did not have jupyter installed. Please install jupyter before adding a path.")}}else{$("#add-path-help").text("Invalid Python. Rodeo could not run Python using the path you specified.")}});function deletePythonPath(el){var pythonPath=$(el).data("path");ipc.send("remove-python-path",pythonPath);$(el).parent().remove();setupPreferences()}USER_HOME=null;function getRC(fn){if(isDesktop()){var rc=ipc.send("preferences-get");fn(rc)}else{$.get("preferences",function(rc){fn(rc)})}}function showPreferences(){$('a[href^="#preferences"]').click()}function setupPreferences(){getRC(function(rc){configurePreferences(rc)})}function registerEmail(){var email=$("#sticker-email").val();var re=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;if(email&&re.test(email)){window.Intercom("update",{email:email});$("#sticker-form").addClass("hide");$("#sticker-success").removeClass("hide");$("#sticker-help").text("");
updateRC("email",email)}else{$("#sticker-help").text("Please input a valid email address.")}}$("#pkg-search").on("input",function(){var query=$(this).val().toLowerCase();if(query==""){$("#packages-rows tr").removeClass("hide")}else{$("#packages-rows tr").each(function(i,pkg){var packageName=$("td",pkg).first().text().toLowerCase();if(packageName.indexOf(query)>=0){$(this).removeClass("hide")}else{$(this).addClass("hide")}})}});$("#history-search").on("input",function(){var query=$(this).val().toLowerCase();if(query==""){$("#history-trail p").removeClass("hide")}else{$("#history-trail p").each(function(i,cmd){var cmdText=$(cmd).text().toLowerCase();if(cmdText.indexOf(query)>=0){$(this).removeClass("hide")}else{$(this).addClass("hide")}})}});$("#variable-search").on("input",function(){var query=$(this).val().toLowerCase();if(query==""){$("#vars tr").removeClass("hide")}else{$("#vars tr").each(function(i,variable){var variableName=$("td",variable).text().toLowerCase();if(variableName.indexOf(query)>=0){$(this).removeClass("hide")}else{$(this).addClass("hide")}})}});function restartSession(){sendCommand("%reset -f");refreshVariables()}function getWorkingDirectory(fn){if(isDesktop()){var wd=ipc.send("wd-get");fn(wd)}else{$.get("wd",function(currentWd){fn(currentWd)})}}function pickDirectory(title,defaultPath,fn){remote.require("dialog").showOpenDialog({title:title,properties:["openDirectory"],defaultPath:defaultPath},function(dir){fn(dir)})}function setWorkingDirectory(fn){if(isDesktop()){pickDirectory("Select a Working Directory",USER_WD,function(wd){if(!wd){return}var wd=wd[0];ipc.send("wd-post",wd);setFiles(wd);if(fn){fn(wd)}})}else{$.get("wd",function(currentWd){bootbox.prompt({title:"Please specify a working directory:",value:currentWd,callback:function(wd){if(wd==null){return}$.post("wd",{wd:wd},function(resp){if(resp.status=="error"){return}else{$("#defaultWorkingDirectory").val(wd);if(fn){fn(wd)}}})}})})}}function runLastCommand(){var cmd=$("#history-trail").children().slice(-1).text().trimLeft();jqconsole.ClearPromptText();jqconsole.Write(jqconsole.GetPromptText(true)+cmd+"\n");jqconsole.ClearPromptText();sendCommand(cmd)}function run2ndToLastCommand(){var cmd=$("#history-trail").children().slice(-2,-1).text().trimLeft();jqconsole.ClearPromptText();jqconsole.Write(jqconsole.GetPromptText(true)+cmd+"\n");jqconsole.ClearPromptText();sendCommand(cmd)}function logout(){window.location.href="/logout"}function initShortcutsDisplay(){$("#shortcut-display-modal #shortcuts").append(shortcuts_template());$("#shortcut-search").on("input",function(){var query=$(this).val().toLowerCase();if(query==""){$("#shortcuts tr .hide").removeClass("hide")}else{$("#shortcut-rows tr").each(function(i,shortcut){var text=[];$("td",shortcut).map(function(i,el){text.push($(el).text())});text=text.join("-").toLowerCase();if(text.indexOf(query)>-1){$(this).removeClass("hide")}else{$(this).addClass("hide")}})}})}Mousetrap.bind(["command+o","ctrl+o"],function(e){$("#file-upload-trigger").click();return false});Mousetrap.bind(["command+shift+left","ctrl+shift+left"],function(e){shiftEditorLeft();return false});Mousetrap.bind(["command+shift+right","ctrl+shift+right"],function(e){shiftEditorRight();return false});Mousetrap.bind(["command+shift+1","ctrl+shift+1"],function(e){focusOnEditor()});Mousetrap.bind(["command+shift+2","ctrl+shift+2"],function(e){focusOnConsole()});Mousetrap.bind(["command+shift+3","ctrl+shift+3"],function(e){focusOnTopRight()});Mousetrap.bind(["command+shift+4","ctrl+shift+4"],function(e){focusOnBottomRight()});Mousetrap.bind(["ctrl+opt+1"],function(e){runLastCommand()});Mousetrap.bind(["ctrl+opt+2"],function(e){run2ndToLastCommand()});Mousetrap.bind(["ctrl-option-shift-n"],function(e){$("#add-tab").click()});Handlebars.registerHelper("compare",function(lvalue,operator,rvalue,options){var operators,result;if(arguments.length<3){throw new Error("Handlerbars Helper 'compare' needs 2 parameters")}if(options===undefined){options=rvalue;rvalue=operator;operator="==="}operators={"==":function(l,r){return l==r},"===":function(l,r){return l===r},"!=":function(l,r){return l!=r},"!==":function(l,r){return l!==r},"<":function(l,r){return l<r},">":function(l,r){return l>r},"<=":function(l,r){return l<=r},">=":function(l,r){return l>=r},"typeof":function(l,r){return typeof l==r}};if(!operators[operator]){throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+operator)}result=operators[operator](lvalue,rvalue);if(result){return options.fn(this)}else{return options.inverse(this)}});Handlebars.registerHelper("toJSON",function(context){return JSON.stringify(context)});var preferences_template=Handlebars.templates["preferences.hbs"];var editor_tab_template=Handlebars.templates["editor-tab.hbs"];var editor_template=Handlebars.templates["editor.hbs"];var active_variables_row_template=Handlebars.templates["active-variable.hbs"];var history_row_template=Handlebars.templates["history-row.hbs"];var package_row_template=Handlebars.templates["package-row.hbs"];var file_template=Handlebars.templates["file-item.hbs"];var file_search_item_template=Handlebars.templates["file-search-item.hbs"];var wd_template=Handlebars.templates["wd.hbs"];var shortcuts_template=Handlebars.templates["shortcuts.hbs"];var menu_item_template=Handlebars.templates["menu-item.hbs"];var nav_item_template=Handlebars.templates["nav-item.hbs"];var markdown_template=Handlebars.templates["markdown-output.hbs"];var bad_python_template=Handlebars.templates["bad-python.hbs"];var python_test_output_template=Handlebars.templates["python-test-output.hbs"];var python_path_item=Handlebars.templates["python-path-item.hbs"];$("#add-tab").click(function(e){e.preventDefault();addEditor();return false});function track(cat,action,label,value){getRC(function(rc){var data={an:"Rodeo",av:rc.version,cid:rc.id,ec:cat,ea:action,el:label};var url="http://rodeo-analytics.yhathq.com/?"+serialize(data);if(navigator.onLine==true){var request=new XMLHttpRequest;request.open("GET",url,true);request.onload=function(){if(request.status>=200&&request.status<400){}else{console.error("error with metrics")}};request.send()}})}function serialize(obj){var str=[];for(var p in obj)if(obj.hasOwnProperty(p)){str.push(encodeURIComponent(p)+"="+encodeURIComponent(obj[p]))}return str.join("&")}var updateOnlineStatus=function(){console.log(navigator.onLine?"online":"offline")};window.addEventListener("online",updateOnlineStatus);window.addEventListener("offline",updateOnlineStatus);$("#file-upload-trigger").change(function(){var input=document.getElementById("file-upload-trigger");var file=input.files[0];var fr=new FileReader;fr.onload=function(theFile){return function(e){var filename=theFile.name.replace("C:\\fakepath\\","");newEditor(filename,filename,e.target.result)}}(file);fr.readAsText(file)});var aboutWindow;function showAbout(){var params={toolbar:false,resizable:false,show:true,height:500,width:400};var BrowserWindow=remote.require("browser-window");aboutWindow=new BrowserWindow(params);aboutWindow.loadURL("file://"+__dirname+"/../static/about.html")}var variableWindow;function showVariable(varname,type){var params={toolbar:false,resizable:true,show:true,height:800,width:1e3};var BrowserWindow=remote.require("browser-window");variableWindow=new BrowserWindow(params);variableWindow.loadURL("file://"+__dirname+"/../static/display-variable.html");var show_var_statements={DataFrame:"print("+varname+"[:1000].to_html())",Series:"print("+varname+"[:1000].to_frame().to_html())",list:"pp.pprint("+varname+")",ndarray:"pp.pprint("+varname+")",dict:"pp.pprint("+varname+")","function":"print(inspect.getsource("+varname+"))",other:"pp.pprint("+varname+")"};variableWindow.webContents.on("dom-ready",function(){var showVar=show_var_statements[type];if(!showVar){showVar=show_var_statements.other}executeCommand(showVar,false,function(result){variableWindow.webContents.send("ping",{type:type,html:result.output})})});variableWindow.on("close",function(){variableWindow=null})}function setupWindows(){$("#pane-container").height($(window).height()-$(".navbar").height());getRC(function(rc){$("#pane-container").split({orientation:"vertical",limit:100,position:rc.paneVertical||"50%"});$("#right-column").split({orientation:"horizontal",limit:100,position:rc.paneHorizontalRight||"50%"});$("#left-column").split({orientation:"horizontal",limit:100,position:rc.paneHorizontalLeft||"50%"})})}function saveWindowCalibration(){var paneVertical=100*$("#pane-container #left-column").width()/$("#pane-container").width();var paneHorizontalRight=100*$("#pane-container #top-right").height()/$("#pane-container #right-column").height();var paneHorizontalLeft=100*$("#pane-container #top-left").height()/$("#pane-container #left-column").height();updateRC("paneVertical",paneVertical+"%");updateRC("paneHorizontalRight",paneHorizontalRight+"%");updateRC("paneHorizontalLeft",paneHorizontalLeft+"%")}function calibratePanes(){$("#pane-container").height($(window).height()-($(".navbar").height()||0));var topLeftHeight=$("#top-left").height();var offset=$("#top-left #editorsTab").height()+2;$("#top-left #editors").height(topLeftHeight-offset);var bottomLeftHeight=$("#bottom-left").height();var offset=$("#bottom-left #consoleTab").height()+1;$("#consoleTabContainer").height(bottomLeftHeight-offset);var offset=$("#top-right ul").height()+1;$("#environment").height($("#top-right").height()-offset);$("#history").height($("#top-right").height()-offset);$("#vars-container").height($("#environment").height()-offset);var tabOffset=$("#bottom-right .nav-tabs").height()+1;$("#bottomRightTabContent").height($("#bottom-right").height()-tabOffset);$("#file-list").height($("#bottomRightTabContent").height()-$("#working-directory").height());$("#packages").height($("#bottom-right").height()-tabOffset);var offset=42+30+1;$("#packages-container").height($("#packages").height()-offset);$("#plot-window").height($("#bottom-right").height()-tabOffset);var offset=offset+25+5;$("#plots img").css("max-height",$("#bottom-right").height()-offset);$("#plots-minimap").css("max-height",$("#bottom-right").height()-offset);$("#help-content").parent().height($("#bottom-right").height()-tabOffset);$("#help-content").height($("#bottom-right").height()-tabOffset);$("#preferences").height($("#bottom-right").height()-tabOffset);$("#preferences").parent().height($("#bottom-right").height()-tabOffset);$("#preferences").height($("#bottom-right").height()-tabOffset);$("[style*=height]").css("overflow","hidden");$("#vars-container").css("overflow-y","scroll");$("#history").css("overflow-y","scroll");$("#file-list").css("overflow-y","scroll");$("#plots-minimap").css("overflow-y","scroll");$("#packages-container").css("overflow-y","scroll");$("#help-content").css("overflow-y","scroll");$("#preferences").css("overflow-y","scroll");$("#editors .editor").each(function(i,el){var id=$(el).attr("id");ace.edit(id).resize()})}$(document.documentElement).bind("mouseup.splitter touchend.splitter touchleave.splitter touchcancel.spliter",function(e){saveWindowCalibration();calibratePanes()});window.onresize=function(evt){calibratePanes()};function showError(err){return;var params={toolbar:false,resizable:false,show:true,height:800,width:800,alwaysOnTop:true};var BrowserWindow=remote.require("browser-window");errorWindow=new BrowserWindow(params);errorWindow.loadURL("file://"+__dirname+"/../static/setup-error.html");errorWindow.openDevTools();errorWindow.webContents.on("did-finish-load",function(){errorWindow.webContents.send("startup-error",err)});return;$("#loading-modal").modal("hide");console.log("[ERROR]: ",err);if(/python path/.test(err)){$("#good-to-go").addClass("hide");$("#install-jupyter").addClass("hide");$("#python-path-missing").removeClass("hide");$("#output-python").removeClass("hide").removeClass("list-group-item-success").addClass("list-group-item-danger");$("#output-python i").removeClass("fa-check").addClass("fa-times");$("#output-jupyter").removeClass("hide").removeClass("list-group-item-success").addClass("list-group-item-danger");$("#output-jupyter i").removeClass("fa-check").addClass("fa-times")}else if(/jupyter/.test(err)){$("#good-to-go").addClass("hide");$("#install-jupyter").removeClass("hide");$("#python-path-missing").addClass("hide");$("#output-python").removeClass("hide").removeClass("list-group-item-danger").addClass("list-group-item-success");$("#output-python i").removeClass("fa-times").addClass("fa-check");$("#output-jupyter").removeClass("hide").removeClass("list-group-item-success").addClass("list-group-item-danger");$("#output-jupyter i").removeClass("fa-check").addClass("fa-times")}else{$("#good-to-go").removeClass("hide");$("#install-jupyter").addClass("hide");$("#python-path-missing").addClass("hide");$("#output-python").removeClass("hide").removeClass("list-group-item-danger").addClass("list-group-item-success");$("#output-python i").removeClass("fa-times").addClass("fa-check");$("#output-jupyter").removeClass("hide").removeClass("list-group-item-danger").addClass("list-group-item-success");$("#output-jupyter i").removeClass("fa-times").addClass("fa-check")}$("#error-modal").modal({backdrop:"static",keyboard:false,show:true});if(/win32/i.test(navigator.platform)){$("#which-python pre").text("c:\\> for %i in (python.exe) do @echo. %~$PATH:i");$("#error-modal a").attr("onClick","shell.openItem('cmd.exe');")}}function pickPython(){require("remote").dialog.showOpenDialog({title:"Select your Python",properties:["openFile"]},function(pythonPath){$("#python-path").val(pythonPath)})}function testPath(path){$("#error-modal .possible-error").addClass("hide");var data=ipc.send("test-path",path);$("#output-jupyter").css("opacity",0);$("#output-python").css("opacity",0).animate({opacity:1,duration:250});setTimeout(function(){$("#output-jupyter").animate({opacity:1})},750);setTimeout(function(){if(data.result.status&&data.result){if(data.result.jupyter){ipc.send("launch-kernel",path);$("#rodeo-ready").removeClass("hide");$("#test-results").children().remove();setTimeout(function(){$("#error-modal").modal("hide")},3e3)}else if(data.result.jupyter==false){$("#install-jupyter").removeClass("hide")}}},1250+400)}$("#btn-set-path").click(function(e){var newPath=$("#python-path").val();if(newPath){testPath(newPath)}});startPrompt();setupMenu();setupPreferences();getWorkingDirectory(function(wd){setFiles(wd)});getRC(function(rc){rc.pythonPaths=rc.pythonPaths||[];if(rc.pythonCmd&&rc.pythonPaths.indexOf(rc.pythonCmd)<0){rc.pythonPaths.push(rc.pythonCmd)}rc.pythonPaths.forEach(function(pythonPath){$("#python-paths").append(python_path_item(pythonPath))})});$("#tour").owlCarousel({singleItem:true});$('[data-toggle="tooltip"]').tooltip();setTimeout(calibratePanes,650);setupWindows();initShortcutsDisplay();
