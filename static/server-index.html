<!DOCTYPE html>
<html lang="en">
<head>
  <title>Rodeo</title>
  <link id="rodeo-theme" href="css/styles.css" rel="stylesheet"/>
  <script src="js/ace.min.js"></script>
  <script src="js/external.min.js"></script>
  <!-- custom.js allows you to inject your own javascript, similar to Jupyter
   (https://github.com/ipython-contrib/IPython-notebook-extensions/wiki) -->
  <script src="js/custom.js"></script>
  <script>
  /* Replace 'APP_ID' with your app ID */
  window.intercomSettings = {
      app_id: 'x8kexgni'
  };
  /* Replace 'APP_ID' with your app ID */
  (function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/APP_ID';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
  </script>
</head>
<body>
  <!-- start nav -->
  <nav class="navbar navbar-default" style="margin-bottom: 2px;">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul id="psuedo-file-menu" class="nav navbar-nav">
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li><a href="#"><img src="img/rodeo-logo.png" title="Yee Haw!" style="height: 17px;"/>Rodeo v1.0.0</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- end nav -->
  <!-- main section -->
  <div id="pane-container">
      <div id="left-column">
        <!-- TOP LEFT -->
        <div id="top-left">
          <!-- editors -->
          <div class="row">
            <div class="col-sm-10" style="padding: 0px; margin: 0px; padding-left: 5px;">
              <ul id="editorsTab" class="nav nav-tabs">
                <li>
                  <a href="#" onclick="http://yhat.com/" target=_blank>
                    <img src="img/rodeo-logo.png" title="Yee Haw!" style="height: 17px; padding-left: 5px;"/>
                  </a>
                </li>
                <!-- editor tabs go here -->
                <li><a title="Create new file" href="#" id="add-tab"><i class="fa fa-plus-square-o"></i></a></li>
              </ul>
            </div>
            <div class="col-sm-2" style="padding: 0px; margin: 0px;">
              <ul class="nav nav-tabs">
                <li>
                  <a title="Run script" id="run-button" href="#"><i class="fa fa-play-circle"></i></a>
                </li>
                <li>
                  <a title="Generate markdown report" id="run-markdown" href="#"><i class="fa fa-sticky-note-o"></i></a>
                </li>
              </ul>
            </div>
          </div>
          <div id="editors" class="tab-content">
          </div>
          <!-- end editors -->
        </div>
        <!-- END TOP LEFT -->

        <!-- BOTTOM LEFT -->
        <div id="bottom-left">
          <ul id="consoleTab" class="nav nav-tabs">
            <li><a><i class="fa fa-terminal"></i>&nbsp;Console</a></li>
          </ul>
          <div id="consoleTabContainer" class="tab-content">
            <div class="tab-pane active in top-right" id="console-tab" style="height: 100%; overflow: hidden;">
              <div id="console" style="height: 100%;"></div>
            </div>
          </div>
        </div>
        <!-- END BOTTOM LEFT -->
    </div>
    <div id="right-column">
        <!-- TOP RIGHT -->
        <div id="top-right">
          <ul class="nav nav-tabs">
            <li class="active"><a href="#environment" data-toggle="tab"><i class="fa fa-table"></i>&nbsp;Environment</a></li>
            <li><a href="#history" data-toggle="tab"><i class="fa fa-history"></i>&nbsp;History</a></li>
          </ul>
          <div id="myTabContent" class="tab-content">
            <div class="tab-pane active in top-right" id="environment">
              <table class="table table-bordered" style="margin-bottom: 0px;">
                <thead>
                  <tr id="vars-header">
                    <th>Variable</th>
                    <th>Type&nbsp;
                      <a data-toggle="tooltip" data-placement="bottom" title="<p class='small'>Currently supported data types:</p><ul class='small text-left'><li>dict</li><li>list</li><li>array (numpy)</li><li>DataFrame (pandas)</li><li>Series (pandas)</li></ul>" data-html="true"><i class="fa fa-question-circle"></i></a>
                    </th>
                    <th></th>
                    <th></th>
                  </tr>
                </thead>
              </table>
              <div id="vars-container" style="max-height: 400px; overflow: auto;">
                <table class="table table-bordered">
                  <tbody id="vars">
                  </tbody>
                </table>
              </div>
            </div>
            <div class="tab-pane" id="history">
              <div class="row">
                <div class="col-sm-5 col-sm-offset-7">
                  <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-search"></i></div>
                    <input type="text" class="form-control input-sm" id="history-search" placeholder="filter..." />
                  </div>
                </div>
              </div>
              <div class="top-right history container" id="history-trail"></div>
            </div>
          </div>
        </div>
        <!-- END TOP RIGHT -->
        <!-- BOTTOM RIGHT -->
        <div id="bottom-right">
          <ul class="nav nav-tabs">
            <li class="active"><a href="#files" data-toggle="tab"><i class="fa fa-file-text-o"></i>&nbsp;Files</a></li>
            <li><a href="#plot-window" data-toggle="tab"><i class="fa fa-bar-chart"></i>&nbsp;Plots</a></li>
            <li><a href="#packages" data-toggle="tab"><i class="fa fa-archive"></i>&nbsp;Packages</a></li>
            <li><a href="#help" data-toggle="tab"><i class="fa fa-life-ring"></i>&nbsp;Help</a></li>
            <li><a href="#preferences" data-toggle="tab"><i class="fa fa-cogs"></i>&nbsp;Preferences</a></li>
          </ul>
          <div id="bottomRightTabContent" class="tab-content">
            <!-- File Nav -->
            <div id="files" class="tab-pane active in" style="height: 100%;">
              <div id="working-directory" class="list-group" style="margin-bottom: 0px;"></div>
              <div id="file-list" class="list-group" style="max-height: 100%; overflow: scroll; margin-bottom: 0px;">
              </div>
            </div>
            <!-- End File Nav -->
            <!-- Plot viewer -->
            <div class="tab-pane" id="plot-window">
              <a title="View previous plot" onclick="previousPlot();" class="label label-primary" title="Prevous Plot"><i class="fa fa-undo"></i></a>
              <a title="View next plot" onclick="nextPlot()" class="label label-primary" title="Next Plot"><i class="fa fa-repeat"></i></a>
              <a title="Open plot in new window" onclick="showPlot();" class="label label-primary" title="Zoom In"><i class="fa fa-arrows-alt"></i></a>
              <a title="Save current plot to file" onclick="savePlot();" class="label label-primary" title="Export Plot" download><i class="fa fa-floppy-o"></i></a>
              <a title="Delete current plot" onclick="deletePlot();" class="label label-primary" title="Delete Plot"><i class="fa fa-trash-o"></i></a>
              <div clas="row">
                <div class="col-sm-10" id="plots">
                </div>
                <div class="col-sm-2 pull-right" id="plots-minimap" style="overflow: scroll;">
                </div>
              </div>
            </div>
            <!-- End Plot viewer -->
            <!-- Packages Viewer -->
            <div class="tab-pane" id="packages">
              <div class="row">
                <div class="col-sm-4">
                  <button id="package-install-button" style="margin-left: 5px; margin-top: 5px;" class="btn btn-primary btn-xs" title="">
                    <i class="fa fa-download"></i>&nbsp;&nbsp;Install Package
                  </button>
                </div>
                <div class="col-sm-5 col-sm-offset-3">
                  <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-search"></i></div>
                    <input type="text" class="form-control input-sm" id="pkg-search" placeholder="(i.e. pandas, Flask)" />
                  </div>
                </div>
              </div>
              <table class="table table-bordered" style="table-layout: fixed; margin-bottom: 0px;">
                <thead>
                  <tr>
                    <th>package</th>
                    <th>version</th>
                  </tr>
                </thead>
              </table>
              <div id="packages-container" style="overflow: auto;">
                <table class="table table-bordered" style="table-layout: fixed;">
                  <tbody id="packages-rows">
                  </tbody>
                </table>
              </div>
            </div>
            <!-- Packages Viewer -->
            <!-- Help -->
            <div class="tab-pane" id="help">
              <pre style="font-size: 10px; overflow: auto;" id="help-content"><i>run help(...) for more info</i></pre>
            </div>
            <!-- End Help -->
            <!-- Preferences -->
            <div class="tab-pane" id="preferences">
            </div>
            <!-- End Preferences -->
          </div>
          </div>
        </div>
        <!-- END BOTTOM RIGHT -->
        <a class="hide" id="time-traveler" href="http://timetraveler.ytmnd.com"></a>
    </div>
    <!-- END main section -->

    <!-- Error Modal -->
    <div id="error-modal" class="modal">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-body">
          </div>
        </div>
      </div>
    </div>
    <!-- Error Modal -->

    <!-- File Search Modal -->
    <div id="file-search-modal" class="modal">
      <div class="modal-dialog modal-md">
        <div class="modal-content">
          <div class="modal-body">
            <div id="file-search-list">
              <form id="file-search-form">
                <input id="file-search-input" class="search form-control" />
                <button type="submit" class="hide"></button>
              </form>
              <ul class="list list-group" style="list-style-type: none; max-height: 250px; overflow: scroll;"></ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- File Search Modal -->

    <!-- Package Install Modal -->
    <div id="package-install-modal" class="modal">
      <div class="modal-dialog modal-md">
        <div class="modal-content">
          <div class="modal-body">
            <form class="form-inline">
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-addon"><a data-toggle="tooltip" data-placement="right" title="<p class='small'>Packages are installed using <code>pip</code>. You can specify specific versions using the <code>==</code> syntax.</p>" data-html="true"><i class="fa fa-question-circle"></i></a>&nbsp;Package Name</div>
                  <input style="width: 350px;" id="package-to-install" type="text" class="form-control" placeholder="pandas, ggplot, requests, bashplotlib==0.5.2" required/>
                </div>
              </div>
              <button type="submit" class="btn btn-primary pull-right">install</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- File Search Modal -->

    <!-- Shortcut Display Modal -->
    <div id="shortcut-display-modal" class="modal">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-body">
            <div class="row">
              <div class="col-sm-4 pull-right">
                <div class="input-group">
                  <div class="input-group-addon"><i class="fa fa-search"></i></div>
                  <input type="text" class="form-control input-sm" id="shortcut-search" placeholder="i.e. System, run cmd, etc." />
                </div>
              </div>
            </div>
            <div id="shortcuts" class="row">
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Shortcut Display Modal -->

    <!-- Loading Modal -->
    <div id="loading-modal" class="modal">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-body">
            <div class="row text-center">
              <div class="jumbotron" style="background-color: inherit;">
                <h1>Rodeo is starting up...</h1>
                <p class="lead">We're launching your python session. This should only take a moment or two.</p>
                <img src="img/loading.gif" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Loading Modal -->

    <!-- Tour Display Modal -->
    <div id="tour-modal" class="modal">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-body">
            <div id="tour" class="owl-carousel">
              <div class="text-center">
                <h3 class="text-primary">Welcome to Rodeo!</h3>
                <img src="img/rodeo-logo.png" style="max-width: 100%; max-height: 250px;" />
                <br /><br />
                <p class="lead">An IDE for Data Science</p>
              </div>
              <div class="text-center">
                <h3 class="text-primary">Autocomplete Your Code</h3>
                <img src="img/tour/first/autocomplete.png" style="max-width: 100%; max-height: 250px;" />
                <br /><br />
                <p class="lead">Use <kbd>tab</kbd> to autocomplete code from within the editor and the console.</p>
              </div>
              <div class="text-center">
                <h3 class="text-primary">Plot and Analyze</h3>
                <img src="img/tour/first/plots.png" style="max-width: 100%; max-height: 250px;" />
                <br /><br />
                <p class="lead">View plots without leaving Rodeo. Plots can be exported to your computer or saved for later.</p>
              </div>
              <div class="text-center">
                <h3 class="text-primary">View Datasets</h3>
                <div class="row">
                  <div class="col-sm-6">
                    <img src="img/tour/first/viewer.png" style="max-width: 100%; max-height: 250px;" />
                  </div>
                  <div class="col-sm-6">
                    <img src="img/tour/first/viewer2.png" style="max-width: 100%; max-height: 250px;" />
                  </div>
                </div>
                <br /><br />
                <p class="lead">Inspect your data using the <strong>Environment</strong> tab.</p>
              </div>
              <div class="text-center">
                <h3 class="text-primary">Customize Your Rodeo Preferences</h3>
                <img src="img/tour/first/preferences.png" style="max-width: 100%; max-height: 250px;" />
                <br /><br />
                <p class="lead">Check out the <strong>Preferences</strong> tab to configure your Rodeo. Adjust the font size, change your syntax highlighting theme, setup your default working directory, and more!</p>
              </div>
              <div class="text-center">
                <h3 class="text-primary">Bring your vim or emacs keyboard to Rodeo</h3>
                <div class="row">
                  <div class="col-sm-6">
                    <img src="img/tour/first/vim-and-emacs-1.png" style="max-width: 100%; max-height: 250px;" />
                  </div>
                  <div class="col-sm-6">
                    <img src="img/tour/first/vim-and-emacs-2.png" style="max-width: 100%; max-height: 250px;" />
                  </div>
                </div>
                <br /><br />
                <p class="lead">Use your favorite <strong>vim or emacs</strong> shortcuts. To setup vim/emacs, visit <strong>Preferences > Editor</strong>.</p>
              </div>
              <div class="text-center">
                <h3 class="text-primary">Setup Your Default Environment</h3>
                <img src="img/tour/first/rodeo-profile.png" style="max-width: 100%; max-height: 250px;" />
                <br /><br />
                <p class="lead">Create a <code>.rodeoprofile</code> to automatically load common libraries, functions, or datasets. Click <strong>CONFIGURE</strong> in the <strong>Preferences > General > Default Variables</strong> to access your <code>.rodeoprofile</code>.</p>
              </div>
              <div class="text-center">
                <h3 class="text-primary">Pick from One of Rodeo's Themes</h3>
                <img src="img/tour/first/themes.png" style="max-width: 100%; max-height: 250px;" />
                <br /><br />
                <p class="lead">Select the theme that speaks to you.</p>
              </div>
              <div class="text-center">
                <h3 class="text-primary">Loaded with Shortcuts</h3>
                <img src="img/tour/first/keyboard-shortcuts.png" style="max-width: 100%; max-height: 250px;" />
                <br /><br />
                <p class="lead">Shortcuts for everyting! Try <kbd>&#8984;</kbd> + <kbd>enter</kbd> to run code in the editor. Can't find a shortcut? No worries, visit <strong>Help > View Shortcuts</strong> to see them all!</p>
              </div>
              <div class="text-center">
                <h3 class="text-primary">Find Files Quickly</h3>
                <img src="img/tour/first/find-files.png" style="max-width: 100%; max-height: 250px;" />
                <br /><br />
                <p class="lead">Looking for a particular file? Try <kbd>&#8984;</kbd> + <kbd>t</kbd> to search your working directory.</p>
              </div>
              <div class="text-center">
                <h3 class="text-primary">Let's Rodeo!</h3>
                <img src="img/tour/first/rodeo-celebration.png" style="max-width: 100%; max-height: 250px;" />
                <br /><br />
                <p class="lead">Ok looks like you're ready to go! For more help visit <a onclick="shell.openExternal('http://yhat.github.io/rodeo-docs/docs/');">the docs</a> or email <a>info@yhathq.com</a>.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Tour Display Modal -->

  <!-- hidden stuff -->
  <input id="file-upload-trigger" type="file" style="visibility:hidden; height: 0px;" />
  <form target="_blank" id="markdown-form" class="hide" method="POST" action="md" style="height: 0px;">
    <textarea type="text" name="doc"></textarea>
  </form>

  <script src="js/server-main.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $("#loading-modal").modal({ backdrop: 'static', keyboard: false, show: true });
      // let's get things going...
      setTimeout(function() {
        $("#loading-modal").modal('hide');
        $("#add-tab").click();
      }, 450);
    });
  </script>
  <script type="text/javascript">
  getRC(function(rc) {
    window.Intercom('boot', {
     app_id: 'x8kexgni',
     user_id: rc.id,
     created_at: Date.now()
   });
  });
</script>
</body>
</html>
